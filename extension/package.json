{
  "name": "sparkdown",
  "displayName": "Sparkdown",
  "description": "Sparkdown autocomplete, syntax highlighting, and export to PDF",
  "publisher": "impowergames",
  "version": "1.0.0",
  "engines": {
    "vscode": "^1.71.0"
  },
  "categories": [
    "Programming Languages",
    "Other"
  ],
  "activationEvents": [
    "onLanguage:sparkdown",
    "onCommand:sparkdown.livepreview",
    "onCommand:sparkdown.exportpdf",
    "onCommand:sparkdown:exporthtml",
    "onCommand:sparkdown.exportpdfdebug",
    "onView:sparkdown-cheatsheet",
    "onWebviewPanel:sparkdownPreview"
  ],
  "main": "./out/extension.js",
  "browser": "./out/extension.js",
  "contributes": {
    "configurationDefaults": {
      "[sparkdown]": {
        "editor.wordWrap": "on",
        "editor.wordBasedSuggestions": false,
        "editor.suggestSelection": "first"
      }
    },
    "languages": [
      {
        "id": "sparkdown",
        "aliases": [
          "Sparkdown",
          "sparkdown"
        ],
        "extensions": [
          ".sparkdown",
          ".spark",
          ".sd"
        ],
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "sparkdown",
        "scopeName": "text.source.sparkdown",
        "path": "./syntaxes/sparkdown.tmLanguage.json"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "sparkdown-view",
          "icon": "flaticon.svg",
          "title": "Sparkdown"
        }
      ]
    },
    "views": {
      "sparkdown-view": [
        {
          "id": "sparkdown-outline",
          "name": "Outline"
        },
        {
          "id": "sparkdown-commands",
          "name": "Commands"
        },
        {
          "id": "sparkdown-cheatsheet",
          "name": "Cheat Sheet",
          "type": "webview"
        }
      ]
    },
    "menus": {
      "editor/title": [
        {
          "when": "resourceLangId == sparkdown",
          "command": "sparkdown.livepreview",
          "group": "navigation@1"
        }
      ]
    },
    "commands": [
      {
        "command": "sparkdown.outline.visibleitems",
        "title": "Change items visible in the outline",
        "icon": "$(eye)",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.outline.reveal",
        "title": "Reveal cursor position",
        "category": "Sparkdown",
        "icon": "$(remote)"
      },
      {
        "command": "sparkdown.livepreview",
        "title": "Preview screenplay",
        "category": "Sparkdown",
        "icon": "$(open-preview)"
      },
      {
        "command": "sparkdown.exportpdf",
        "title": "Export screenplay PDF",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.exporthtml",
        "title": "Export screenplay HTML",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.exportpdfdebug",
        "title": "Export screenplay PDF with default name and open it",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.jumpto",
        "title": "Jump to line",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.overwriteSceneNumbers",
        "title": "Number all scenes (overwrites existing scene numbers)",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.updateSceneNumbers",
        "title": "Number all scenes (keep existing scene numbers, insert missing ones)",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.statistics",
        "title": "View statistics",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.debugtokens",
        "title": "Debug parsed output",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.shiftScenesUp",
        "title": "Shift Scenes Up",
        "category": "Sparkdown"
      },
      {
        "command": "sparkdown.shiftScenesDown",
        "title": "Shift Scenes Down",
        "category": "Sparkdown"
      }
    ],
    "keybindings": [
      {
        "command": "sparkdown.livepreview",
        "key": "ctrl+shift+v",
        "mac": "cmd+shift+v",
        "when": "editorLangId == sparkdown"
      },
      {
        "command": "sparkdown.exportpdf",
        "key": "ctrl+shift+b",
        "mac": "cmd+shift+b",
        "when": "editorLangId == sparkdown"
      },
      {
        "command": "sparkdown.exportpdfdebug",
        "key": "f5",
        "mac": "f5",
        "when": "editorLangId == sparkdown"
      },
      {
        "command": "sparkdown.shiftScenesUp",
        "key": "alt+up",
        "mac": "alt+up",
        "when": "editorLangId == sparkdown"
      },
      {
        "command": "sparkdown.shiftScenesDown",
        "key": "alt+down",
        "mac": "alt+down",
        "when": "editorLangId == sparkdown"
      }
    ],
    "configuration": [
      {
        "title": "Sparkdown Preview",
        "type": "object",
        "properties": {
          "sparkdown.screenplay.previewTexture": {
            "type": "boolean",
            "default": true,
            "description": "Show textured background in screenplay preview"
          },
          "sparkdown.screenplay.previewTheme": {
            "type": "string",
            "enum": [
              "vscode",
              "paper"
            ],
            "description": "The theme to be used for the screenplay preview",
            "default": "paper"
          },
          "sparkdown.screenplay.previewSynchronizedWithCursor": {
            "type": "boolean",
            "default": true,
            "description": "Synchronize screenplay preview with editor's cursor position"
          }
        }
      },
      {
        "title": "Sparkdown Export",
        "type": "object",
        "properties": {
          "sparkdown.screenplay.formatting.printSceneHeadersBold": {
            "type": "boolean",
            "default": true,
            "description": "Make scene headers bold in screenplay"
          },
          "sparkdown.screenplay.markup.printSectionHeaders": {
            "type": "boolean",
            "default": false,
            "description": "Print section headers in screenplay (lines that start with #)"
          },
          "sparkdown.screenplay.markup.printSynopses": {
            "type": "boolean",
            "default": true,
            "description": "Print synopses in screenplay (lines that start with =)"
          },
          "sparkdown.screenplay.markup.printNotes": {
            "type": "boolean",
            "default": false,
            "description": "Print notes in screenplay (text enclosed between [[two brackets]])"
          },
          "sparkdown.screenplay.numbering.printSceneNumbers": {
            "type": "string",
            "enum": [
              "none",
              "left",
              "right",
              "both"
            ],
            "default": "none",
            "description": "Print scene numbers in screenplay"
          },
          "sparkdown.screenplay.numbering.printSectionNumbers": {
            "type": "boolean",
            "default": false,
            "description": "Print section numbers in screenplay"
          },
          "sparkdown.screenplay.pages.printTitlePage": {
            "type": "boolean",
            "default": true,
            "description": "Include title page in screenplay"
          },
          "sparkdown.screenplay.pdf.printProfile": {
            "type": "string",
            "description": "The paper dimensions of the screenplay pdf",
            "enum": [
              "a4",
              "usletter"
            ],
            "default": "usletter"
          },
          "sparkdown.screenplay.pdf.composition.pageBreaks.printDialogueSplitAcrossPages": {
            "type": "boolean",
            "default": true,
            "description": "Allow dialogue to be split between pages of the screenplay pdf"
          },
          "sparkdown.screenplay.pdf.composition.printDialogueMORE": {
            "type": "string",
            "default": "(MORE)",
            "description": "Text to print when dialogue is interrupted by a page break in the screenplay pdf"
          },
          "sparkdown.screenplay.pdf.composition.printDialogueCONTD": {
            "type": "string",
            "default": "(CONT'D)",
            "description": "Text to print next to a character's name when continuing their dialogue after a page break in the screenplay pdf"
          },
          "sparkdown.screenplay.pdf.extras.printPageHeader": {
            "type": "string",
            "default": "",
            "description": "Text inserted at the top of each page in the screenplay pdf"
          },
          "sparkdown.screenplay.pdf.extras.printPageFooter": {
            "type": "string",
            "default": "",
            "description": "Text inserted at the bottom of each page in the screenplay pdf"
          },
          "sparkdown.screenplay.pdf.extras.printPageWatermark": {
            "type": "string",
            "default": "",
            "description": "Text displayed across each page in the screenplay pdf"
          },
          "sparkdown.screenplay.pdf.numbering.printPageNumbers": {
            "type": "boolean",
            "default": true,
            "description": "Print page numbers in the screenplay pdf"
          },
          "sparkdown.screenplay.pdf.bookmarks.printBookmarks": {
            "type": "boolean",
            "default": true,
            "description": "Create bookmarks for sections and scenes in the screenplay pdf"
          },
          "sparkdown.screenplay.pdf.bookmarks.printBookmarksForInvisibleSections": {
            "type": "boolean",
            "default": true,
            "markdownDescription": "If `#sparkdown.screenplay.annotations.printSectionHeaders#` is false, add bookmarks for sections to scene headers instead"
          }
        }
      },
      {
        "title": "Sparkdown Editor",
        "type": "object",
        "properties": {
          "sparkdown.editor.parentheticalNewlineHelper": {
            "type": "boolean",
            "default": true,
            "markdownDescription": "Automatically skip to the next line if the caret is just before the last parenthesis within a parenthetical (as such❚). If you are using a vim emulator, you should disable this setting - an [issue with vscode](https://github.com/Microsoft/vscode/issues/13441) means it is impossible for two extensions to simultaneously intercept typing."
          },
          "sparkdown.editor.refreshStatsOnSave": {
            "type": "boolean",
            "default": false,
            "description": "Automatically refresh the statistics panel when you save the document"
          }
        }
      }
    ]
  },
  "scripts": {
    "test": "vscode-test-web --browserType=chromium --extensionDevelopmentPath=. --extensionTestsPath=out/test/suite/index.js",
    "pretest": "npm run compile-web",
    "vscode:prepublish": "npm run package-web",
    "dev": "webpack",
    "compile-web": "webpack",
    "watch-web": "webpack --watch",
    "package-web": "webpack --mode production --devtool hidden-source-map",
    "lint": "eslint src --ext ts",
    "run-in-browser": "vscode-test-web --browserType=chromium --extensionDevelopmentPath=. ."
  },
  "devDependencies": {
    "@types/mocha": "^9.1.1",
    "@types/pdfkit": "^0.12.6",
    "@types/vscode": "^1.71.0",
    "@types/webpack-env": "^1.18.0",
    "@typescript-eslint/eslint-plugin": "^5.38.0",
    "@typescript-eslint/parser": "^5.38.0",
    "@vscode/test-web": "^0.0.30",
    "assert": "^2.0.0",
    "copy-webpack-plugin": "^11.0.0",
    "eslint": "^8.23.1",
    "mocha": "^10.0.0",
    "process": "^0.11.10",
    "ts-loader": "^9.4.1",
    "typescript": "^4.8.3",
    "webpack": "^5.74.0",
    "webpack-cli": "^4.10.0"
  },
  "dependencies": {
    "font-finder": "^1.1.0",
    "html-entities": "^2.3.3",
    "iconv-lite": "^0.6.3",
    "pdfkit": "^0.13.0",
    "textbox-for-pdfkit": "^0.2.1",
    "vscode-codicons": "0.0.17"
  }
}
