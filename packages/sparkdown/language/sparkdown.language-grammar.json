{
  "fileTypes": [
    "sd"
  ],
  "keyEquivalent": "^~S",
  "indentUnit": "  ",
  "name": "Sparkdown",
  "scopeName": "text.source.sparkdown",
  "uuid": "E26C862D-2A5E-4F10-B0C3-D6BCB838CB7F",
  "flags": "mu",
  "variables": {
    "INTEGER": "[0-9]+",
    "NUMBER": "(?:[-]?(?:\\d*[.])?\\d+)",
    "IDENTIFIER_START_CHAR": "_\\p{L}",
    "IDENTIFIER_END_CHAR": "0-9_\\p{L}-",
    "IDENTIFIER_START": "[{{IDENTIFIER_START_CHAR}}]",
    "IDENTIFIER_END": "[{{IDENTIFIER_END_CHAR}}]*",
    "IDENTIFIER": "{{IDENTIFIER_START}}{{IDENTIFIER_END}}",
    "STRICT_PROPERTY_IDENTIFIER": "(?:{{INTEGER}}|{{IDENTIFIER}}|{{QUOTED_STRING}})",
    "BEFORE_KEYWORD": "(?<![{{IDENTIFIER_END_CHAR}}])(?:(?<=\\.\\.\\.)|(?<!\\.))",
    "AFTER_KEYWORD": "(?![{{IDENTIFIER_END_CHAR}}])(?:(?=\\.\\.\\.)|(?!\\.))",
    "TAG_START": "(?:[#]+(?:$|{{WS}}+))",
    "COMMENT_START": "(?:[/][/]|[/][*])",
    "BREAK": "(?:{{WS}}+[>]{{WS}}*)",
    "WORD": "(?:[\\p{L}\\p{N}\\p{Mn}']+)",
    "WS": "[^\\S\\n\\r]",
    "EOL": "(?:$|{{WS}}*$|{{WS}}*{{TAG_START}}.*$|{{WS}}*[/][/].*$)",
    "EOPL": "(?:$|{{WS}}*$|{{WS}}*[/][/].*$)",
    "KEYWORD_TERMINATOR": "(?:[:]|{{TAG_START}}|{{COMMENT_START}})",
    "EOK": "(?:$|{{WS}}+|(?={{KEYWORD_TERMINATOR}}))",
    "COMPARISON_OPERATOR": "(?:[~]|[|]|[\\^]|[$]|[*])",
    "QUOTED_STRING": "(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])",
    "UNQUOTED_STRING_TERMINATOR": "(?:$|[\\s\"'`<>=:(){}\\[\\]]|{{COMMENT_START}})",
    "UNQUOTED_STRING_VALUE": "(?:.*?)(?={{UNQUOTED_STRING_TERMINATOR}})",
    "PROPERTY_NAME_TERMINATOR": "(?:[:]|[=]|[\\r\\n])",
    "ASSIGN_EQUAL_OPERATOR": "(?:{{WS}}*[=]{{WS}}*)",
    "ARRAY_ITEM_OPERATOR": "(?:[-](?:$|{{WS}}+))",
    "IMAGE_CONTROL_KEYWORDS": [
      "show",
      "hide",
      "animate"
    ],
    "IMAGE_CLAUSE_KEYWORDS": [
      "over",
      "after",
      "with",
      "wait",
      "ease"
    ],
    "AUDIO_CONTROL_KEYWORDS": [
      "play",
      "stop",
      "fade",
      "queue",
      "await"
    ],
    "AUDIO_CLAUSE_KEYWORDS": [
      "over",
      "after",
      "to",
      "loop",
      "once",
      "mute",
      "unmute",
      "now"
    ],
    "CONDITIONAL_BLOCK_KEYWORDS": [
      "if",
      "elseif",
      "else",
      "match",
      "case",
      "stopping",
      "shuffle",
      "cycle",
      "once",
      "repeat",
      "for",
      "fill"
    ],
    "OUTER_CONTROL_STATEMENT_KEYWORDS": [
      "if",
      "elseif",
      "match",
      "repeat",
      "in"
    ],
    "INNER_CONTROL_STATEMENT_KEYWORDS": [
      "case",
      "fill",
      "slot"
    ],
    "DECLARATION_KEYWORDS": [
      "include",
      "function",
      "store",
      "var",
      "const",
      "temp",
      "list",
      "define",
      "load",
      "scene",
      "branch",
      "screen",
      "component",
      "animation",
      "style",
      "theme"
    ]
  },
  "patterns": [
    {
      "include": "#EndOfLine"
    },
    {
      "include": "#Newline"
    },
    {
      "include": "#Annotation"
    },
    {
      "include": "#FrontMatter"
    },
    {
      "include": "#Todo"
    },
    {
      "include": "#Include"
    },
    {
      "include": "#Load"
    },
    {
      "include": "#Declaration"
    },
    {
      "include": "#Function"
    },
    {
      "include": "#Scene"
    },
    {
      "include": "#Branch"
    },
    {
      "include": "#Knot"
    },
    {
      "include": "#Stitch"
    },
    {
      "include": "#Divert"
    },
    {
      "include": "#Thread"
    },
    {
      "include": "#ReturnStatement"
    },
    {
      "include": "#TempDeclaration"
    },
    {
      "include": "#Logic"
    },
    {
      "include": "#Choice"
    },
    {
      "include": "#Gather"
    },
    {
      "include": "#Title"
    },
    {
      "include": "#Heading"
    },
    {
      "include": "#Transitional"
    },
    {
      "include": "#Write"
    },
    {
      "include": "#Dialogue"
    },
    {
      "include": "#AssetLine"
    },
    {
      "include": "#Action"
    },
    {
      "include": "#ConditionalBracedBlock"
    },
    {
      "include": "#ConditionalIndentedBlock"
    },
    {
      "include": "#Whitespace"
    }
  ],
  "repository": {
    "FileSeparator": {
      "match": "^([/]{4,})([^\\S\\n\\r]*)([^/\\s]+)([^\\S\\n\\r]*)([/]{4,})([^\\S\\n\\r]*)$"
    },
    "FileSplitter": {
      "match": "^((?:[/]{4,})(?:[^\\S\\n\\r]*)(?:[^/\\s]+)(?:[^\\S\\n\\r]*)(?:[/]{4,})(?:[^\\S\\n\\r]*))$"
    },
    "Annotation": {
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Tags"
        }
      ]
    },
    "Comment": {
      "patterns": [
        {
          "include": "#LineComment"
        },
        {
          "include": "#BlockComment"
        }
      ]
    },
    "LineComment": {
      "tag": "lineComment",
      "name": "comment.line.sd",
      "match": "([^\\S\\n\\r]*)([/][/])(.*?)$(\\r\\n|\\r|\\n)?",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Whitespace"
            }
          ]
        },
        "2": {
          "name": "punctuation.definition.comment.mark"
        },
        "3": {
          "patterns": [
            {
              "include": "#LineCommentContent"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "LineCommentContent": {
      "tag": "definition(lineComment)",
      "name": "punctuation.definition.comment.content.sd",
      "match": "(.+$)"
    },
    "BlockComment": {
      "tag": "blockComment",
      "name": "comment.block.sd",
      "begin": "([^\\S\\n\\r]*)([/][*])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Whitespace"
            }
          ]
        },
        "2": {
          "name": "punctuation.definition.comment.mark"
        }
      },
      "patterns": [
        {
          "include": "#Newline"
        },
        {
          "include": "#BlockCommentContent"
        }
      ],
      "end": "([*][/])",
      "endCaptures": {
        "1": {
          "name": "punctuation.definition.comment.mark"
        }
      }
    },
    "BlockCommentContent": {
      "tag": "definition(lineComment)",
      "name": "punctuation.definition.comment.content.sd",
      "match": "(.+?)(?=$|[*][/])"
    },
    "Tags": {
      "tag": "docComment",
      "name": "comment.line.sd entity.tag.sd",
      "begin": "([^\\S\\n\\r]*)(?=(?:[#]+(?:$|[^\\S\\n\\r]+)))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Tag"
        }
      ],
      "end": "(?=$)"
    },
    "Tag": {
      "tag": "docComment",
      "name": "comment.line.sd entity.tag.sd",
      "match": "([^\\S\\n\\r]*)((?:[#]+(?:$|[^\\S\\n\\r]+)))(.*?)(?:(?=(?:[#]+(?:$|[^\\S\\n\\r]+)))|$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Whitespace"
            }
          ]
        },
        "2": {
          "tag": "definition(docComment)",
          "name": "punctuation.definition.comment.sd comment.line.sd entity.tag.begin.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#TagContent"
            }
          ]
        }
      }
    },
    "TagContent": {
      "tag": "definition(docComment)",
      "name": "punctuation.definition.comment.content.sd",
      "match": "(.+?)(?=$|(?:[#]+(?:$|[^\\S\\n\\r]+)))"
    },
    "Todo": {
      "tag": "docComment",
      "name": "comment.line.sd entity.todo.sd",
      "begin": "([^\\S\\n\\r]*)(TODO:|todo:)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "definition(docComment)",
          "name": "constant.other entity.todo.begin.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#TodoContent"
        }
      ],
      "end": "(?=$)"
    },
    "TodoContent": {
      "tag": "definition(docComment)",
      "name": "punctuation.definition.comment.content.sd",
      "match": "(.+$)"
    },
    "Include": {
      "tag": "meta",
      "name": "meta.import.include.sd",
      "begin": "^([^\\S\\n\\r]*)(INCLUDE|include)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#IncludeKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#IncludeContent"
        }
      ],
      "end": "(?=$)"
    },
    "IncludeKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.include.sd",
      "match": "(.+)"
    },
    "IncludeContent": {
      "tag": "string",
      "name": "string.include.sd",
      "match": "(.+?)(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))"
    },
    "Load": {
      "tag": "meta",
      "name": "meta.import.load.sd",
      "begin": "^([^\\S\\n\\r]*)(LOAD|load)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#LoadKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#LoadName"
        },
        {
          "include": "#Whitespace"
        }
      ],
      "end": "(?=$)"
    },
    "LoadKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.load.sd",
      "match": "(.+)"
    },
    "LoadName": {
      "tag": "variableName",
      "name": "variable.other.constant.load.name.sd",
      "match": "(\\S+)"
    },
    "Declaration": {
      "patterns": [
        {
          "include": "#StoreDeclaration"
        },
        {
          "include": "#VarDeclaration"
        },
        {
          "include": "#ListDeclaration"
        },
        {
          "include": "#ConstDeclaration"
        },
        {
          "include": "#ExternalDeclaration"
        },
        {
          "include": "#DefineDeclaration"
        }
      ]
    },
    "StoreDeclaration": {
      "tag": "meta",
      "name": "storage.type.var.sd",
      "begin": "([^\\S\\n\\r]*)(store)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#StoreKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#VariableAssignment"
        }
      ],
      "end": "(?=$)"
    },
    "StoreKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.var.sd",
      "match": "(.+)"
    },
    "VarDeclaration": {
      "tag": "meta",
      "name": "storage.type.var.sd",
      "begin": "([^\\S\\n\\r]*)(VAR|var)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#VarKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#VariableAssignment"
        }
      ],
      "end": "(?=$)"
    },
    "VarKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.var.sd",
      "match": "(.+)"
    },
    "ListDeclaration": {
      "tag": "meta",
      "name": "storage.type.list.sd",
      "begin": "([^\\S\\n\\r]*)(LIST|list)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ListKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#ListTypeAssignment"
        }
      ],
      "end": "(?=$)"
    },
    "ListKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.list.sd",
      "match": "(.+)"
    },
    "ConstDeclaration": {
      "tag": "meta",
      "name": "storage.type.const.sd",
      "begin": "([^\\S\\n\\r]*)(CONST|const)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ConstKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#VariableAssignment"
        }
      ],
      "end": "(?=$)"
    },
    "ConstKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.const.sd",
      "match": "(.+)"
    },
    "ExternalDeclaration": {
      "tag": "meta",
      "name": "storage.type.external.sd",
      "begin": "([^\\S\\n\\r]*)(EXTERNAL|external)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExternalKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#ExternalFunctionDeclaration"
        }
      ],
      "end": "(?=$)"
    },
    "ExternalKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.external.sd",
      "match": "(.+)"
    },
    "ListTypeAssignment": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)($|(?:[^\\S\\n\\r]*[=][^\\S\\n\\r]*)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$)))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ListTypeDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#AssignEqualOperator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "(?=$)"
    },
    "VariableAssignment": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)($|(?:[^\\S\\n\\r]*[=][^\\S\\n\\r]*)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$)))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#VariableDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#AssignEqualOperator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "(?=$)"
    },
    "ExternalFunctionDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#FunctionName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$)"
    },
    "RefModifier": {
      "match": "(ref)([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "tag": "modifier",
          "name": "storage.modifier.ref.sd"
        },
        "2": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "FunctionDeclarationParameters": {
      "brackets": true,
      "begin": "([(])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.begin.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Separator"
        },
        {
          "include": "#PunctuationComma"
        },
        {
          "include": "#Parameter"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)([)])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.end.sd"
        }
      }
    },
    "FunctionCallParameters": {
      "brackets": true,
      "begin": "([(])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.begin.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Separator"
        },
        {
          "include": "#PunctuationComma"
        },
        {
          "include": "#Parameter"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)([)])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.end.sd"
        }
      }
    },
    "Parameter": {
      "tag": "meta",
      "name": "meta.parameter.sd",
      "begin": "(?=.+$)",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "$|(?=[^\\S\\n\\r]*(?:[)]|[,]))"
    },
    "DefineDeclaration": {
      "patterns": [
        {
          "include": "#DefineViewDeclaration"
        },
        {
          "include": "#DefineStylingDeclaration"
        },
        {
          "include": "#DefinePlainDeclaration"
        }
      ]
    },
    "DefineViewDeclaration": {
      "tag": "meta",
      "name": "meta.definition.type.define.sd",
      "begin": "([^\\S\\n\\r]*)(define)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))(?=(?:screen|component)(?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))(.*?)$",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#DefineKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#DefineAssignment"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#ViewStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "DefineStylingDeclaration": {
      "tag": "meta",
      "name": "meta.definition.type.define.sd",
      "begin": "([^\\S\\n\\r]*)(define)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))(?=(?:style|animation|theme)(?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))(.*?)$",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#DefineKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#DefineAssignment"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#StylingStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "DefinePlainDeclaration": {
      "tag": "meta",
      "name": "meta.definition.type.define.sd",
      "begin": "([^\\S\\n\\r]*)(define)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))(.*?)$",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#DefineKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#DefineAssignment"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#PlainStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "DefineKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.object.sd",
      "match": "(.+)"
    },
    "DefineAssignment": {
      "match": "(.*?)([(].*[)])?(?:(with)((?=$|[:])|[^\\S\\n\\r]+)((?=$|[:])|[_\\p{L}][0-9_\\p{L}-]*))?([^\\S\\n\\r]*)($|[:])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DefineIdentifier"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#FunctionDeclarationParameters"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#WithKeyword"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#DefineModifierName"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        }
      }
    },
    "DefineIdentifier": {
      "match": "([_\\p{L}][0-9_\\p{L}-]*)($|[^\\S\\n\\r]+)($|[_\\p{L}][0-9_\\p{L}-]*)($|.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DefineTypeName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#DefinePunctuationAccessor"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#DefineVariableName"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Other"
            }
          ]
        }
      }
    },
    "WithKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.define.with.sd",
      "match": "(.+)"
    },
    "DefineModifierName": {
      "tag": "keyword",
      "name": "storage.modifier.sd",
      "match": "(.+)"
    },
    "DefineTypeName": {
      "tag": "typeName",
      "name": "support.type.define.sd",
      "match": "(.+)"
    },
    "DefinePunctuationAccessor": {
      "match": "([^\\S\\n\\r])",
      "tag": "separator",
      "name": "meta.template.expression.accessor.sd"
    },
    "DefineVariableName": {
      "tag": "variableName",
      "name": "variable.other.constant.sd",
      "match": "(.+)"
    },
    "BlankProperty": {
      "match": "^([^\\S\\n\\r]+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        }
      }
    },
    "ViewStructField": {
      "emit": true,
      "patterns": [
        {
          "include": "#BlankProperty"
        },
        {
          "include": "#ViewStructObjectItem"
        },
        {
          "include": "#ViewStructScalarItem"
        },
        {
          "include": "#ViewStructScalarProperty"
        },
        {
          "include": "#ViewStructObjectProperty"
        },
        {
          "include": "#Newline"
        }
      ]
    },
    "StylingStructField": {
      "emit": true,
      "patterns": [
        {
          "include": "#BlankProperty"
        },
        {
          "include": "#StylingStructObjectItem"
        },
        {
          "include": "#StylingStructScalarItem"
        },
        {
          "include": "#StylingStructScalarProperty"
        },
        {
          "include": "#StylingStructObjectProperty"
        },
        {
          "include": "#Newline"
        }
      ]
    },
    "PlainStructField": {
      "emit": true,
      "patterns": [
        {
          "include": "#BlankProperty"
        },
        {
          "include": "#PlainStructObjectItem"
        },
        {
          "include": "#PlainStructScalarItem"
        },
        {
          "include": "#PlainStructScalarProperty"
        },
        {
          "include": "#PlainStructObjectProperty"
        },
        {
          "include": "#Newline"
        }
      ]
    },
    "ViewStructObjectItem": {
      "patterns": [
        {
          "include": "#ViewStructObjectItemBlock"
        },
        {
          "include": "#ViewStructObjectItemWithInlineScalarProperty"
        },
        {
          "include": "#ViewStructObjectItemWithInlineObjectProperty"
        }
      ]
    },
    "StylingStructObjectItem": {
      "patterns": [
        {
          "include": "#StylingStructObjectItemBlock"
        },
        {
          "include": "#StylingStructObjectItemWithInlineScalarProperty"
        },
        {
          "include": "#StylingStructObjectItemWithInlineObjectProperty"
        }
      ]
    },
    "PlainStructObjectItem": {
      "patterns": [
        {
          "include": "#PlainStructObjectItemBlock"
        },
        {
          "include": "#PlainStructObjectItemWithInlineScalarProperty"
        },
        {
          "include": "#PlainStructObjectItemWithInlineObjectProperty"
        }
      ]
    },
    "ViewStructObjectItemBlock": {
      "begin": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#ViewStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "StylingStructObjectItemBlock": {
      "begin": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#StylingStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "PlainStructObjectItemBlock": {
      "begin": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#PlainStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "ViewStructObjectItemWithInlineScalarProperty": {
      "tag": "meta",
      "name": "meta.definition.struct.item.object.sd",
      "begin": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))((?:[^\\S\\n\\r]*[=][^\\S\\n\\r]*))(.*$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ViewDeclarationScalarPropertyName"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#AssignEqualOperator"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#StylingStructFieldValue"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#ViewStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "StylingStructObjectItemWithInlineScalarProperty": {
      "tag": "meta",
      "name": "meta.definition.struct.item.object.sd",
      "begin": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))((?:[^\\S\\n\\r]*[=][^\\S\\n\\r]*))(.*$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#StylingDeclarationScalarPropertyName"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#AssignEqualOperator"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#StylingStructFieldValue"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#StylingStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "PlainStructObjectItemWithInlineScalarProperty": {
      "tag": "meta",
      "name": "meta.definition.struct.item.object.sd",
      "begin": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))((?:[^\\S\\n\\r]*[=][^\\S\\n\\r]*))(.*$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#PlainDeclarationScalarPropertyName"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#AssignEqualOperator"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#PlainStructFieldValue"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#PlainStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "ViewStructObjectItemWithInlineObjectProperty": {
      "begin": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))([^\\S\\n\\r]*)([:])([^\\S\\n\\r]*)(.*$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ViewDeclarationObjectPropertyName"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#ViewStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "StylingStructObjectItemWithInlineObjectProperty": {
      "begin": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))([^\\S\\n\\r]*)([:])([^\\S\\n\\r]*)(.*$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#StylingDeclarationObjectPropertyName"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#StylingStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "PlainStructObjectItemWithInlineObjectProperty": {
      "begin": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))([^\\S\\n\\r]*)([:])([^\\S\\n\\r]*)(.*$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#PlainDeclarationObjectPropertyName"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#PlainStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "ViewStructScalarItem": {
      "match": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))(.*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ViewStructFieldValue"
            }
          ]
        }
      }
    },
    "StylingStructScalarItem": {
      "match": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))(.*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#StylingStructFieldValue"
            }
          ]
        }
      }
    },
    "PlainStructScalarItem": {
      "match": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+)))(.*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ArrayItemOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#PlainStructFieldValue"
            }
          ]
        }
      }
    },
    "ViewStructScalarProperty": {
      "match": "^([^\\S\\n\\r]*)((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))((?:[^\\S\\n\\r]*[=][^\\S\\n\\r]*))(.*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ViewDeclarationScalarPropertyName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AssignEqualOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ViewStructFieldValue"
            }
          ]
        }
      }
    },
    "StylingStructScalarProperty": {
      "match": "^([^\\S\\n\\r]*)((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))((?:[^\\S\\n\\r]*[=][^\\S\\n\\r]*))(.*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#StylingDeclarationScalarPropertyName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AssignEqualOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#StylingStructFieldValue"
            }
          ]
        }
      }
    },
    "PlainStructScalarProperty": {
      "match": "^([^\\S\\n\\r]*)((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))((?:[^\\S\\n\\r]*[=][^\\S\\n\\r]*))(.*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PlainDeclarationScalarPropertyName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AssignEqualOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#PlainStructFieldValue"
            }
          ]
        }
      }
    },
    "ViewStructObjectProperty": {
      "begin": "^([^\\S\\n\\r]*)(.+$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ViewDeclarationObjectPropertyAssignment"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#ViewStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "StylingStructObjectProperty": {
      "begin": "^([^\\S\\n\\r]*)(.+$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PlainDeclarationObjectPropertyAssignment"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#StylingStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "PlainStructObjectProperty": {
      "begin": "^([^\\S\\n\\r]*)(.+$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PlainDeclarationObjectPropertyAssignment"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#PlainStructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "ViewDeclarationObjectPropertyAssignment": {
      "begin": "(?=\\S)",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#ViewForControlProperty"
        },
        {
          "include": "#ViewControlProperty"
        },
        {
          "include": "#ViewDeclarationObjectPropertyName"
        }
      ],
      "applyEndPatternLast": true,
      "end": "$|([^\\S\\n\\r]*)([:])([^\\S\\n\\r]*)(.*$)|(.+$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        }
      }
    },
    "PlainDeclarationObjectPropertyAssignment": {
      "begin": "(?=\\S)",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#PlainDeclarationObjectPropertyName"
        }
      ],
      "applyEndPatternLast": true,
      "end": "$|([^\\S\\n\\r]*)([:])([^\\S\\n\\r]*)(.*$)|(.+$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        }
      }
    },
    "ViewDeclarationObjectPropertyName": {
      "begin": "(?=\\S)(?!(?:[:]|[=]|[\\r\\n]))",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#SelectorPropertyNamePart"
        },
        {
          "include": "#ComponentName"
        },
        {
          "include": "#IllegalChar"
        }
      ],
      "end": "(?=$|(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$)|[^\\S\\n\\r]*(?:[:]|[=]|[\\r\\n]))"
    },
    "StylingDeclarationObjectPropertyName": {
      "begin": "(?=\\S)(?!(?:[:]|[=]|[\\r\\n]))",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#OperatorPrefixedPropertyName"
        },
        {
          "include": "#PropertyName"
        },
        {
          "include": "#InvalidSelectorPropertyName"
        }
      ],
      "end": "(?=$|(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$)|[^\\S\\n\\r]*(?:[:]|[=]|[\\r\\n]))"
    },
    "PlainDeclarationObjectPropertyName": {
      "begin": "(?=\\S)(?!(?:[:]|[=]|[\\r\\n]))",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#OperatorPrefixedPropertyName"
        },
        {
          "include": "#PropertyName"
        },
        {
          "include": "#InvalidSelectorPropertyName"
        }
      ],
      "end": "(?=$|(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$)|[^\\S\\n\\r]*(?:[:]|[=]|[\\r\\n]))"
    },
    "OperatorPrefixedPropertyName": {
      "begin": "(?=\\S)(?![_\\p{L}][0-9_\\p{L}-]*)(?!(?:[:]|[=]|[\\r\\n]))",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#SelectorPropertyNamePart"
        },
        {
          "include": "#ComponentName"
        },
        {
          "include": "#IllegalChar"
        }
      ],
      "end": "(?=$|(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$)|[^\\S\\n\\r]*(?:[:]|[=]|[\\r\\n]))"
    },
    "InvalidSelectorPropertyName": {
      "tag": "invalid",
      "name": "invalid.illegal.unknown-statement.sd",
      "begin": "(?=\\S)(?!(?:[:]|[=]|[\\r\\n]))",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#SelectorPropertyNamePart"
        },
        {
          "include": "#ComponentName"
        },
        {
          "include": "#IllegalChar"
        }
      ],
      "end": "(?=$|(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$)|[^\\S\\n\\r]*(?:[:]|[=]|[\\r\\n]))"
    },
    "SelectorPropertyNamePart": {
      "patterns": [
        {
          "include": "#ParenPropertyIdentifierString"
        },
        {
          "include": "#BracketPropertyIdentifierString"
        },
        {
          "include": "#BracePropertyIdentifierString"
        },
        {
          "include": "#UnitValue"
        },
        {
          "include": "#Literal"
        },
        {
          "include": "#SelectorOperator"
        },
        {
          "include": "#RecursiveSelectorFunction"
        },
        {
          "include": "#SimpleSelectorFunction"
        },
        {
          "include": "#StyleAttribute"
        },
        {
          "include": "#EventAttribute"
        },
        {
          "include": "#LabelAttribute"
        },
        {
          "include": "#Separator"
        }
      ]
    },
    "ParenPropertyIdentifierString": {
      "brackets": true,
      "begin": "([(])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationParenOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#SelectorPropertyNamePart"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)([)])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PunctuationParenClose"
            }
          ]
        }
      }
    },
    "BracketPropertyIdentifierString": {
      "brackets": true,
      "begin": "(\\[)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationBracketOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#SelectorPropertyNamePart"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)(\\])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PunctuationBracketClose"
            }
          ]
        }
      }
    },
    "BracePropertyIdentifierString": {
      "brackets": true,
      "begin": "(\\{)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationBraceOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#SelectorPropertyNamePart"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)(\\})",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PunctuationBraceClose"
            }
          ]
        }
      }
    },
    "UnitValue": {
      "match": "([-]?(?:\\d*[.])?\\d+)([%]|[a-zA-Z]+)",
      "captures": {
        "1": {
          "tag": "number",
          "name": "constant.numeric.amount.sd"
        },
        "2": {
          "tag": "number",
          "name": "constant.numeric.unit.sd"
        }
      }
    },
    "SelectorOperator": {
      "tag": "keyword",
      "name": "keyword.other.selector.operator.sd",
      "match": "([>]|[+]|[~]|[*]|[&]|[\\^])"
    },
    "RecursiveSelectorFunction": {
      "begin": "([@])(has|not|is|where)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#EventAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#EventAttributeName"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#RecursiveSelectorFunctionParameters"
        }
      ],
      "applyEndPatternLast": true,
      "end": "(?=$|.)"
    },
    "RecursiveSelectorFunctionParameters": {
      "brackets": true,
      "begin": "([(])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationParenOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#SelectorPropertyNamePart"
        },
        {
          "include": "#ComponentName"
        },
        {
          "include": "#IllegalChar"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)([)])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PunctuationParenClose"
            }
          ]
        }
      }
    },
    "SimpleSelectorFunction": {
      "begin": "([@])([_\\p{L}][0-9_\\p{L}-]*)?(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#EventAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#EventAttributeName"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#SimpleSelectorFunctionParameters"
        }
      ],
      "applyEndPatternLast": true,
      "end": "(?=$|.)"
    },
    "SimpleSelectorFunctionParameters": {
      "brackets": true,
      "begin": "([(])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationParenOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#SelectorPropertyNamePart"
        },
        {
          "include": "#StringIdentifier"
        },
        {
          "include": "#IllegalChar"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)([)])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PunctuationParenClose"
            }
          ]
        }
      }
    },
    "StyleAttribute": {
      "emit": true,
      "patterns": [
        {
          "include": "#AssignedBracedStyleAttribute"
        },
        {
          "include": "#AssignedQuotedStyleAttribute"
        },
        {
          "include": "#AssignedUnquotedStyleAttribute"
        },
        {
          "include": "#UnassignedStyleAttribute"
        }
      ]
    },
    "EventAttribute": {
      "emit": true,
      "patterns": [
        {
          "include": "#AssignedBracedEventAttribute"
        },
        {
          "include": "#AssignedQuotedEventAttribute"
        },
        {
          "include": "#AssignedUnquotedEventAttribute"
        },
        {
          "include": "#UnassignedEventAttribute"
        }
      ]
    },
    "AssignedBracedStyleAttribute": {
      "begin": "([#])([_\\p{L}][0-9_\\p{L}-]*)?((?:[~]|[|]|[\\^]|[$]|[*])?[=])([{])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StyleAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#StyleAttributeName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AttributeEqualOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#PunctuationBraceOpen"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "([}])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationBraceClose"
            }
          ]
        }
      }
    },
    "AssignedQuotedStyleAttribute": {
      "tag": "string",
      "name": "string.quoted.double.view.sd",
      "begin": "([#])([_\\p{L}][0-9_\\p{L}-]*)?((?:[~]|[|]|[\\^]|[$]|[*])?[=])([\"])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StyleAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#StyleAttributeName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AttributeEqualOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#PunctuationStringOpen"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#StringContent"
        }
      ],
      "end": "$|([\"])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationStringClose"
            }
          ]
        }
      }
    },
    "AssignedUnquotedStyleAttribute": {
      "begin": "([#])([_\\p{L}][0-9_\\p{L}-]*)?((?:[~]|[|]|[\\^]|[$]|[*])?[=])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StyleAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#StyleAttributeName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AttributeEqualOperator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#UnquotedStyleAttributeValue"
        }
      ],
      "end": "(?=(?:$|[\\s\"'`<>=:(){}\\[\\]]|(?:[/][/]|[/][*])))"
    },
    "UnassignedStyleAttribute": {
      "match": "([#])([_\\p{L}][0-9_\\p{L}-]*)?",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#StyleAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#StyleAttributeName"
            }
          ]
        }
      }
    },
    "AssignedBracedEventAttribute": {
      "begin": "([@])([_\\p{L}][0-9_\\p{L}-]*)?((?:[~]|[|]|[\\^]|[$]|[*])?[=])([{])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#EventAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#EventAttributeName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AttributeEqualOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#PunctuationBraceOpen"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "([}])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationBraceClose"
            }
          ]
        }
      }
    },
    "AssignedQuotedEventAttribute": {
      "tag": "string",
      "name": "string.quoted.double.view.sd",
      "begin": "([@])([_\\p{L}][0-9_\\p{L}-]*)?((?:[~]|[|]|[\\^]|[$]|[*])?[=])([\"])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#EventAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#EventAttributeName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AttributeEqualOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#PunctuationStringOpen"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#StringContent"
        }
      ],
      "end": "$|([\"])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationStringClose"
            }
          ]
        }
      }
    },
    "AssignedUnquotedEventAttribute": {
      "begin": "([@])([_\\p{L}][0-9_\\p{L}-]*)?((?:[~]|[|]|[\\^]|[$]|[*])?[=])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#EventAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#EventAttributeName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AttributeEqualOperator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#UnquotedEventAttributeValue"
        }
      ],
      "end": "(?=(?:$|[\\s\"'`<>=:(){}\\[\\]]|(?:[/][/]|[/][*])))"
    },
    "UnassignedEventAttribute": {
      "match": "([@])([_\\p{L}][0-9_\\p{L}-]*)?",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#EventAttributeOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#EventAttributeName"
            }
          ]
        }
      }
    },
    "StyleAttributeOperator": {
      "tag": "variableName",
      "name": "variable.other.constant.attribute.style.sd",
      "match": "([#])"
    },
    "StyleAttributeName": {
      "tag": "variableName",
      "name": "variable.other.constant.attribute.style.sd",
      "match": "(.+)"
    },
    "UnquotedStyleAttributeValue": {
      "tag": "string",
      "name": "string.unquoted.attribute.value.sd",
      "match": "((?:.*?)(?=(?:$|[\\s\"'`<>=:(){}\\[\\]]|(?:[/][/]|[/][*]))))"
    },
    "EventAttributeOperator": {
      "tag": "function(variableName)",
      "name": "entity.name.function.attribute.name.view.sd",
      "match": "([@])"
    },
    "EventAttributeName": {
      "tag": "function(variableName)",
      "name": "entity.name.function.attribute.name.view.sd",
      "match": "(.+)"
    },
    "UnquotedEventAttributeValue": {
      "match": "((?:.*?)(?=(?:$|[\\s\"'`<>=:(){}\\[\\]]|(?:[/][/]|[/][*]))))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DivertTarget"
            }
          ]
        }
      }
    },
    "UnquotedStringValue": {
      "tag": "string",
      "name": "string.unquoted.attribute.value.sd",
      "match": "((?:.*?)(?=(?:$|[\\s\"'`<>=:(){}\\[\\]]|(?:[/][/]|[/][*]))))"
    },
    "LabelAttribute": {
      "emit": true,
      "patterns": [
        {
          "include": "#StringLiteral"
        }
      ]
    },
    "FunctionCall": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#FunctionName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#FunctionCallParameters"
        }
      ],
      "applyEndPatternLast": true,
      "end": "(?=$|.)"
    },
    "FunctionAccessor": {
      "begin": "([.])?([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationAccessor"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#FunctionName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#FunctionCallParameters"
        }
      ],
      "applyEndPatternLast": true,
      "end": "(?=$|.)"
    },
    "ArrayItemOperator": {
      "match": "([-])($|[^\\S\\n\\r]+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#ArrayItemMark"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      }
    },
    "ArrayItemMark": {
      "tag": "keyword",
      "name": "keyword.operator.expression.array.sd",
      "match": "(.+)"
    },
    "AttributeEqualOperator": {
      "tag": "operator",
      "name": "keyword.operator.sd",
      "match": "(.+)"
    },
    "ViewStructFieldValue": {
      "match": "(.+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#NumericFieldValue"
            },
            {
              "include": "#BooleanFieldValue"
            },
            {
              "include": "#StringFieldValue"
            },
            {
              "include": "#AccessPath"
            },
            {
              "include": "#UnquotedStringFieldValue"
            }
          ]
        }
      }
    },
    "StylingStructFieldValue": {
      "match": "(.+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#NumericFieldValue"
            },
            {
              "include": "#BooleanFieldValue"
            },
            {
              "include": "#StringFieldValue"
            },
            {
              "include": "#StylingValue"
            }
          ]
        }
      }
    },
    "PlainStructFieldValue": {
      "match": "(.+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#NumericFieldValue"
            },
            {
              "include": "#BooleanFieldValue"
            },
            {
              "include": "#StringFieldValue"
            },
            {
              "include": "#AccessPath"
            },
            {
              "include": "#UnquotedStringFieldValue"
            }
          ]
        }
      }
    },
    "NumericFieldValue": {
      "tag": "number",
      "name": "constant.numeric.sd",
      "match": "([-]?(?:\\d*[.])?\\d+|Infinity|NaN)((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#NumericLiteral"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "BooleanFieldValue": {
      "tag": "bool",
      "name": "constant.language.boolean.true.sd",
      "match": "(true|false)((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#BooleanLiteral"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "StringFieldValue": {
      "tag": "string",
      "name": "string.quoted.double.sd",
      "match": "([\"])((?:\\\\.|[^\"])*)([\"])((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationStringOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#StringEscape"
            },
            {
              "include": "#StringCharacter"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#PunctuationStringClose"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "UnquotedStringFieldValue": {
      "match": "(.+)((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#UnquotedString"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "UnquotedString": {
      "tag": "string",
      "name": "string.unquoted.sd",
      "match": "(.+)"
    },
    "StylingValue": {
      "match": "(.+)((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Comment"
            },
            {
              "include": "#StylingValuePart"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "StylingValuePart": {
      "patterns": [
        {
          "include": "#Separator"
        },
        {
          "include": "#Color"
        },
        {
          "include": "#Ratio"
        },
        {
          "include": "#UnitValue"
        },
        {
          "include": "#NumericLiteral"
        },
        {
          "include": "#PunctuationComma"
        },
        {
          "include": "#StylingFunction"
        },
        {
          "include": "#QualifiedAccessPath"
        },
        {
          "include": "#StringIdentifier"
        },
        {
          "include": "#UnquotedChar"
        }
      ]
    },
    "StylingFunction": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "StylingFunctionName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#StylingFunctionParameters"
        }
      ],
      "applyEndPatternLast": true,
      "end": "(?=$|.)"
    },
    "StylingFunctionParameters": {
      "brackets": true,
      "begin": "([(])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "PunctuationParenOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#CalcOperator"
        },
        {
          "include": "#StylingValuePart"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)([)])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "PunctuationParenClose"
            }
          ]
        }
      }
    },
    "StylingFunctionName": {
      "tag": "function(variableName)",
      "name": "entity.name.function.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)"
    },
    "StringIdentifier": {
      "tag": "string",
      "name": "string.unquoted.identifier.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)"
    },
    "UnquotedChar": {
      "tag": "string",
      "name": "string.unquoted.char.sd",
      "match": "(.)"
    },
    "CalcOperator": {
      "tag": "keyword",
      "name": "keyword.other.calc.operator.sd",
      "match": "([+]|[-]|[*]|[/])"
    },
    "Ratio": {
      "match": "((?:[-]?(?:\\d*[.])?\\d+))([^\\S\\n\\r]*)([/])([^\\S\\n\\r]*)((?:[-]?(?:\\d*[.])?\\d+))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#NumericLiteral"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "CalcOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "ExtraWhitespace"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "NumericLiteral"
            }
          ]
        }
      }
    },
    "TargetAccessPath": {
      "emit": true,
      "patterns": [
        {
          "include": "#AccessPath"
        },
        {
          "include": "#IllegalExpression"
        }
      ]
    },
    "QualifiedAccessPath": {
      "begin": "(?=[_\\p{L}][0-9_\\p{L}-]*[.])",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#AccessPath"
        }
      ],
      "end": "(?=$)|(?![_\\p{L}][0-9_\\p{L}-]*|[.]|\\[)"
    },
    "AccessPath": {
      "begin": "(?=[_\\p{L}][0-9_\\p{L}-]*)",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#AccessPart"
        }
      ],
      "end": "(?=$)|(?![_\\p{L}][0-9_\\p{L}-]*|[.]|\\[)"
    },
    "AccessPart": {
      "emit": true,
      "patterns": [
        {
          "include": "#ArrayLiteral"
        },
        {
          "include": "#FunctionAccessor"
        },
        {
          "include": "#PropertyAccessor"
        },
        {
          "include": "#NamespaceAccessor"
        },
        {
          "include": "#VariableName"
        },
        {
          "include": "#PunctuationAccessor"
        }
      ]
    },
    "ListTypeDeclarationName": {
      "emit": true,
      "patterns": [
        {
          "include": "#TypeName"
        },
        {
          "include": "#Unknown"
        }
      ]
    },
    "VariableDeclarationName": {
      "emit": true,
      "patterns": [
        {
          "include": "#VariableName"
        },
        {
          "include": "#Unknown"
        }
      ]
    },
    "ViewDeclarationScalarPropertyName": {
      "match": "((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DeclarationScalarPropertyIndex"
            },
            {
              "include": "#DeclarationScalarPropertyQuotedKey"
            },
            {
              "include": "#ComponentName"
            }
          ]
        }
      }
    },
    "StylingDeclarationScalarPropertyName": {
      "match": "((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DeclarationScalarPropertyIndex"
            },
            {
              "include": "#DeclarationScalarPropertyQuotedKey"
            },
            {
              "include": "#DeclarationScalarPropertyKey"
            }
          ]
        }
      }
    },
    "PlainDeclarationScalarPropertyName": {
      "match": "((?:[0-9]+|[_\\p{L}][0-9_\\p{L}-]*|(?:[\"](?:\\\\.|[^\"\\r\\n])*[\"])))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DeclarationScalarPropertyIndex"
            },
            {
              "include": "#DeclarationScalarPropertyQuotedKey"
            },
            {
              "include": "#DeclarationScalarPropertyKey"
            }
          ]
        }
      }
    },
    "DeclarationScalarPropertyIndex": {
      "tag": "number",
      "name": "constant.numeric.integer.sd",
      "match": "([0-9]+)"
    },
    "DeclarationScalarPropertyKey": {
      "tag": "propertyName",
      "name": "variable.other.property.define.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)"
    },
    "DeclarationScalarPropertyQuotedKey": {
      "tag": "string",
      "name": "string.quoted.key.sd",
      "match": "((?:[\"](?:\\\\.|[^\"\\r\\n])*[\"]))"
    },
    "ViewForControlProperty": {
      "match": "^([^\\S\\n\\r]*)(for)([^\\S\\n\\r]*)(.*?)($|[^\\S\\n\\r]+)($|in)($|[^\\S\\n\\r]+)(.*?)($|[^\\S\\n\\r]*)($|[:])($|[^\\S\\n\\r]*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ViewDeclarationControlKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ViewDeclarationAsExpression"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#InKeyword"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "8": {
          "patterns": [
            {
              "include": "#ViewDeclarationControlExpression"
            }
          ]
        },
        "9": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "10": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "11": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      }
    },
    "ViewControlProperty": {
      "match": "^([^\\S\\n\\r]*)(\\b(?:if|elseif|else|match|case|stopping|shuffle|cycle|once|repeat|for|fill)\\b)([^\\S\\n\\r]*)(.*?)([^\\S\\n\\r]*)($|[:])($|[^\\S\\n\\r]*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ViewDeclarationControlKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ViewDeclarationControlExpression"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      }
    },
    "ComponentName": {
      "patterns": [
        {
          "include": "#BuiltinComponentName"
        },
        {
          "include": "#CustomComponentName"
        },
        {
          "include": "#FunctionCallParameters"
        }
      ]
    },
    "BuiltinComponentName": {
      "tag": "definitionKeyword",
      "name": "keyword.other.component.builtin.name.sd",
      "match": "\\b(box|span|scroller|text|stroke|link|label|field|button|image|mask|input|slider|checkbox|dropdown|option|divider)(?![_\\p{L}][0-9_\\p{L}-]*)"
    },
    "CustomComponentName": {
      "tag": "className",
      "name": "entity.name.type.class.view.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)"
    },
    "ViewDeclarationControlKeyword": {
      "patterns": [
        {
          "include": "#ViewDeclarationControlInnerKeyword"
        },
        {
          "include": "#ViewDeclarationControlTopKeyword"
        }
      ]
    },
    "ViewDeclarationControlInnerKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.inner.view.sd",
      "match": "(case|fill|slot)(?=$|[^\\S\\n\\r])"
    },
    "ViewDeclarationControlTopKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.view.sd",
      "match": "(\\b(?:if|elseif|else|match|case|stopping|shuffle|cycle|once|repeat|for|fill)\\b)(?=$|[^\\S\\n\\r])"
    },
    "InKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.in.view.sd",
      "match": "\\b(in)\\b"
    },
    "ViewDeclarationAsExpression": {
      "emit": true,
      "patterns": [
        {
          "include": "#Expression"
        }
      ]
    },
    "ViewDeclarationControlExpression": {
      "emit": true,
      "patterns": [
        {
          "include": "#Expression"
        }
      ]
    },
    "ViewString": {
      "tag": "string",
      "name": "string.unquoted.view.sd",
      "begin": "(?=\\S)",
      "patterns": [
        {
          "include": "#StringEscape"
        },
        {
          "include": "#Comment"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#StringCharacter"
        }
      ],
      "end": "(?=\\s)"
    },
    "InterpolatedString": {
      "tag": "special(string)",
      "name": "string.interpolated.view.sd",
      "begin": "([{])",
      "beginCaptures": {
        "1": {
          "tag": "special(string)",
          "name": "string.interpolated.view.sd"
        }
      },
      "patterns": [
        {
          "include": "#StringEscape"
        },
        {
          "include": "#Comment"
        },
        {
          "include": "#StringCharacter"
        }
      ],
      "end": "([}])|($)",
      "endCaptures": {
        "1": {
          "tag": "special(string)",
          "name": "string.interpolated.view.sd"
        }
      }
    },
    "Label": {
      "match": "([(])([^\\S\\n\\r]*)([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)([)])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#LabelBeginMark"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#LabelDeclarationName"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#LabelEndMark"
            }
          ]
        },
        "6": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "LabelBeginMark": {
      "tag": "keyword",
      "name": "keyword.flow.label.sd",
      "match": "(.+)"
    },
    "LabelEndMark": {
      "tag": "keyword",
      "name": "keyword.flow.label.sd",
      "match": "(.+)"
    },
    "LabelDeclarationName": {
      "tag": "definition(heading)",
      "name": "keyword.control.section.sd",
      "match": "(.+)"
    },
    "Break": {
      "tag": "special(content)",
      "name": "meta.break.sd",
      "match": "((?:[^\\S\\n\\r]+[>][^\\S\\n\\r]*))",
      "captures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.other.break.sd"
        }
      }
    },
    "Chain": {
      "tag": "special(meta)",
      "name": "meta.chain.sd",
      "match": "([^\\S\\n\\r]*)([\\\\])(?:([^\\S\\n\\r]+)$|([^\\S\\n\\r]*))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Whitespace"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.other.chain.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      }
    },
    "Glue": {
      "tag": "meta",
      "name": "meta.glue.sd",
      "match": "([^\\S\\n\\r]*)([<][>])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Whitespace"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.other.glue.sd"
        }
      }
    },
    "Choice": {
      "name": "entity.choice.sd",
      "begin": "([^\\S\\n\\r]*)((?:[*](?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))+|(?:[+](?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))+)([(][^()]*[)][^\\S\\n\\r]*)?(?:((?:[{][^{}]*[}][^\\S\\n\\r]*)+))?(\\r\\n|\\r|\\n)?",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ChoiceMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Label"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ConditionalBracedBlock"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#ChoiceConditional"
        },
        {
          "include": "#ChoiceWithSuppressedText"
        },
        {
          "include": "#ChoiceWithNoSuppressedText"
        }
      ],
      "end": "(?=$)"
    },
    "ChoiceConditional": {
      "name": "entity.choice.sd",
      "match": "^([^\\S\\n\\r]*)((?:[{][^{}]*[}][^\\S\\n\\r]*)+)(\\r\\n|\\r|\\n)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ConditionalBracedBlock"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "ChoiceMark": {
      "tag": "keyword",
      "name": "keyword.operator.expression.list.sd",
      "match": "(.+)"
    },
    "ChoiceWithSuppressedText": {
      "match": "(.*?)(\\[)(.*?)(\\])(.*?)(?:([^\\S\\n\\r]*)$|([^\\S\\n\\r]*)([-][>].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#ChoiceTextContent"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.begin.choice.suppression.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#ChoiceTextContent"
            }
          ]
        },
        "4": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.end.choice.suppression.sd"
        },
        "5": {
          "patterns": [
            {
              "include": "#DisplayText"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "8": {
          "patterns": [
            {
              "include": "#Divert"
            }
          ]
        }
      }
    },
    "ChoiceWithNoSuppressedText": {
      "match": "(.+?)(?:([^\\S\\n\\r]*)$|([^\\S\\n\\r]*)([-][>].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#ChoiceTextContent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Divert"
            }
          ]
        }
      }
    },
    "ChoiceTextContent": {
      "tag": "string",
      "name": "string.choice.sd",
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Annotation"
            },
            {
              "include": "#ConditionalBracedBlock"
            },
            {
              "include": "#DisplayText"
            }
          ]
        }
      }
    },
    "Logic": {
      "tag": "meta",
      "name": "meta.logic.sd",
      "begin": "([^\\S\\n\\r]*)(~)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#LogicMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#ReturnStatement"
        },
        {
          "include": "#TempDeclaration"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))(\\r\\n|\\r|\\n)?",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "LogicMark": {
      "tag": "keyword",
      "name": "keyword.other.logic.sd",
      "match": "(.+)"
    },
    "ReturnStatement": {
      "begin": "([^\\S\\n\\r]*)(~(?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))?([^\\S\\n\\r]*)(return)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#OptionalLogicMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ReturnKeyword"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "(?=$)"
    },
    "ReturnKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.return.sd",
      "match": "(.+)"
    },
    "TempDeclaration": {
      "begin": "([^\\S\\n\\r]*)(~(?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))?([^\\S\\n\\r]*)(temp)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#OptionalLogicMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#TempKeyword"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#VariableAssignment"
        }
      ],
      "end": "(?=$)"
    },
    "OptionalLogicMark": {
      "tag": "keyword",
      "name": "keyword.other.logic.optional.sd",
      "match": "(.+)"
    },
    "TempKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.temp.sd",
      "match": "(.+)"
    },
    "Gather": {
      "match": "^([^\\S\\n\\r]*)((?:[-](?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))+)([^\\S\\n\\r]*)([(][^()]*[)][^\\S\\n\\r]*)?",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#GatherMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Label"
            }
          ]
        }
      }
    },
    "GatherMark": {
      "tag": "keyword",
      "name": "keyword.other.gather.sd",
      "match": "(.+)"
    },
    "Scene": {
      "begin": "^([^\\S\\n\\r]*)(scene)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#SceneKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#SceneWithParametersDeclaration"
        },
        {
          "include": "#SceneWithoutParametersDeclaration"
        }
      ],
      "end": "([:])|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        }
      }
    },
    "SceneWithParametersDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#SceneDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$|(?:[/][/]|[/][*])|[^\\S\\n\\r]*(?![(]))"
    },
    "SceneWithoutParametersDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#SceneDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$|(?:[/][/]|[/][*])|[^\\S\\n\\r]*(?![(]))"
    },
    "SceneKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.scene.sd",
      "match": "(.+)"
    },
    "SceneDeclarationName": {
      "tag": "definition(heading)",
      "name": "keyword.control.section.sd",
      "match": "(.+)"
    },
    "Knot": {
      "begin": "^([^\\S\\n\\r]*)([=]{2,}(?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#KnotBeginMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#KnotFunction"
        },
        {
          "include": "#KnotWithParametersDeclaration"
        },
        {
          "include": "#KnotWithoutParametersDeclaration"
        }
      ],
      "end": "([^\\S\\n\\r]*[=]{2,})|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#KnotEndMark"
            }
          ]
        }
      }
    },
    "KnotWithParametersDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#KnotDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$|[=]|(?:[/][/]|[/][*])|[^\\S\\n\\r]*(?![(]))"
    },
    "KnotWithoutParametersDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#KnotDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$|[=]|(?:[/][/]|[/][*])|[^\\S\\n\\r]*(?![(]))"
    },
    "KnotBeginMark": {
      "tag": "keyword",
      "name": "keyword.flow.knot.sd",
      "match": "(.+)"
    },
    "KnotEndMark": {
      "tag": "keyword",
      "name": "keyword.flow.knot.sd",
      "match": "(.+)"
    },
    "KnotDeclarationName": {
      "tag": "definition(heading)",
      "name": "keyword.control.section.sd",
      "match": "(.+)"
    },
    "Branch": {
      "begin": "^([^\\S\\n\\r]*)(branch)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#BranchKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#BranchWithParametersDeclaration"
        },
        {
          "include": "#BranchWithoutParametersDeclaration"
        }
      ],
      "end": "([:])|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        }
      }
    },
    "BranchWithParametersDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#BranchDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$|(?:[/][/]|[/][*])|[^\\S\\n\\r]*(?![(]))"
    },
    "BranchWithoutParametersDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#BranchDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$|(?:[/][/]|[/][*])|[^\\S\\n\\r]*(?![(]))"
    },
    "BranchKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.branch.sd",
      "match": "(.+)"
    },
    "BranchDeclarationName": {
      "tag": "definition(heading)",
      "name": "keyword.control.section.sd",
      "match": "(.+)"
    },
    "Stitch": {
      "begin": "^([^\\S\\n\\r]*)([=])((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#StitchBeginMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#StitchWithParametersDeclaration"
        },
        {
          "include": "#StitchWithoutParametersDeclaration"
        }
      ],
      "end": "([=]+)|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#InvalidValue"
            }
          ]
        }
      }
    },
    "StitchWithParametersDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StitchDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$|[=]|(?:[/][/]|[/][*])|[^\\S\\n\\r]*(?![(]))"
    },
    "StitchWithoutParametersDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StitchDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$|[=]|(?:[/][/]|[/][*])|[^\\S\\n\\r]*(?![(]))"
    },
    "StitchBeginMark": {
      "tag": "keyword",
      "name": "keyword.flow.stitch.sd",
      "match": "(.+)"
    },
    "StitchEndMark": {
      "tag": "keyword",
      "name": "keyword.flow.stitch.sd",
      "match": "(.+)"
    },
    "StitchDeclarationName": {
      "tag": "definition(heading)",
      "name": "keyword.control.section.sd",
      "match": "(.+)"
    },
    "Function": {
      "begin": "^([^\\S\\n\\r]*)(function)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#FunctionKeyword"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#FunctionDeclaration"
        }
      ],
      "end": "([:])|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        }
      }
    },
    "KnotFunction": {
      "begin": "(function)((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#FunctionKeyword"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#FunctionDeclaration"
        }
      ],
      "end": "(?=$|[^\\S\\n\\r]*[=]{2,})"
    },
    "FunctionDeclaration": {
      "begin": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#FunctionDeclarationName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#FunctionDeclarationParameters"
        }
      ],
      "end": "(?=$)"
    },
    "FunctionKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.function.sd",
      "match": "(.+)"
    },
    "FunctionDeclarationName": {
      "tag": "definition(heading)",
      "name": "keyword.control.section.sd",
      "match": "(.+)"
    },
    "FunctionEndMark": {
      "tag": "keyword",
      "name": "keyword.flow.function.sd",
      "match": "(.+)"
    },
    "Divert": {
      "begin": "([^\\S\\n\\r]*)([-][>][-][>]|[-][>])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#TunnelMark"
            },
            {
              "include": "#DivertMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Tunnel"
        },
        {
          "include": "#DivertTarget"
        },
        {
          "include": "#ExtraWhitespace"
        }
      ],
      "end": "(?=$)"
    },
    "Tunnel": {
      "begin": "([^\\S\\n\\r]*)([-][>])",
      "beginCaptures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#DivertMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Tunnel"
        },
        {
          "include": "#DivertTarget"
        },
        {
          "include": "#ExtraWhitespace"
        }
      ],
      "end": "(?=$)"
    },
    "Thread": {
      "begin": "^([^\\S\\n\\r]*)([<][-])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ThreadMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#DivertTarget"
        },
        {
          "include": "#ExtraWhitespace"
        }
      ],
      "end": "(?=$|[^\\s0-9_\\p{L}-])"
    },
    "DivertMark": {
      "tag": "controlKeyword",
      "name": "keyword.control.divert.mark.sd",
      "match": "([-][>])"
    },
    "TunnelMark": {
      "tag": "controlKeyword",
      "name": "keyword.control.divert.mark.sd",
      "match": "([-][>][-][>])"
    },
    "ThreadMark": {
      "tag": "controlKeyword",
      "name": "keyword.control.thread.mark.sd",
      "match": "([<][-])"
    },
    "End": {
      "tag": "keyword",
      "name": "constant.language.end.sd",
      "match": "\\b(END)\\b"
    },
    "Done": {
      "tag": "keyword",
      "name": "constant.language.done.sd",
      "match": "\\b(DONE)\\b"
    },
    "DivertTarget": {
      "tag": "heading",
      "name": "keyword.control.divert.path.sd",
      "begin": "([^\\S\\n\\r]*)(?=[_\\p{L}][0-9_\\p{L}-]*|[.^])",
      "beginCaptures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#End"
        },
        {
          "include": "#Done"
        },
        {
          "include": "#FunctionCall"
        },
        {
          "include": "#DivertPath"
        }
      ],
      "end": "(?=$)|(?![_\\p{L}][0-9_\\p{L}-]*|[.^])"
    },
    "DivertPath": {
      "tag": "heading",
      "name": "keyword.control.divert.path.sd",
      "begin": "(?=[_\\p{L}][0-9_\\p{L}-]*|[.^])",
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#DivertPart"
        }
      ],
      "end": "(?=$)|(?![_\\p{L}][0-9_\\p{L}-]*|[.^])"
    },
    "DivertPart": {
      "emit": true,
      "patterns": [
        {
          "include": "#PunctuationAccessor"
        },
        {
          "include": "#DivertPartNumber"
        },
        {
          "include": "#DivertPartOperator"
        },
        {
          "include": "#DivertPartName"
        }
      ]
    },
    "DivertPartNumber": {
      "tag": "heading",
      "name": "keyword.control.divert.path.sd",
      "match": "([0-9]+)"
    },
    "DivertPartOperator": {
      "tag": "heading",
      "name": "keyword.control.divert.path.sd",
      "match": "([.^])"
    },
    "DivertPartName": {
      "tag": "heading",
      "name": "keyword.control.divert.path.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)"
    },
    "ConditionalBracedBlock": {
      "tag": "meta",
      "name": "meta.definition.type.conditional-block.sd",
      "brackets": true,
      "begin": "([{])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ConditionalBlockOpenBrace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#CloseBraceAhead"
        },
        {
          "include": "#MultilineAlternative"
        },
        {
          "include": "#MultilineBlock"
        },
        {
          "include": "#ConditionalSubstitution"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#Substitution"
        },
        {
          "include": "#FirstAlternativeItem"
        },
        {
          "include": "#AlternativeItem"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#InlineConditionalText"
        }
      ],
      "end": "([^\\S\\n\\r]*)([}])([^\\S\\n\\r]*)?",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ConditionalBlockCloseBrace"
            }
          ]
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "ConditionalBlockOpenBrace": {
      "tag": "keyword",
      "name": "punctuation.definition.template-expression.begin.sd",
      "match": "([{])"
    },
    "ConditionalBlockCloseBrace": {
      "tag": "keyword",
      "name": "punctuation.definition.template-expression.end.sd",
      "match": "([}])"
    },
    "Substitution": {
      "name": "keyword.control.sd",
      "match": "(?<=[{][^\\S\\n\\r]*)([^\\S\\n\\r]*)([^{}:|]+)((?<![^\\S\\n\\r])[^\\S\\n\\r]*)(?=[}])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Expression"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      }
    },
    "FirstAlternativeItem": {
      "begin": "(?<=[{][^\\S\\n\\r]*)([^\\S\\n\\r]*)([&!~])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.alternative.type.sd"
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#PipeAhead"
        },
        {
          "include": "#Literal"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#ConditionalSubstitution"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#InlineConditionalText"
        }
      ],
      "end": "(?=[|])"
    },
    "AlternativeItem": {
      "begin": "([|])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#AlternativeOperator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#CloseBraceAhead"
        },
        {
          "include": "#PipeAhead"
        },
        {
          "include": "#Literal"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#InlineConditionalText"
        }
      ],
      "end": "(?=[}]|[|])"
    },
    "ConditionalSubstitution": {
      "begin": "((?:[^:{}|]|[|](?=[|]))+)((?<![^\\S\\n\\r])[^\\S\\n\\r]*)([:])([^\\S\\n\\r]*)(?!(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Expression"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Whitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#CloseBraceAhead"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#InlineElseClause"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#InlineConditionalText"
        }
      ],
      "end": "([^\\S\\n\\r]*)(?=[}])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      }
    },
    "InlineElseClause": {
      "begin": "([|])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#AlternativeOperator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#CloseBraceAhead"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#InlineConditionalText"
        }
      ],
      "end": "(?=[}])"
    },
    "MultilineBlock": {
      "begin": "([^{}:]+)((?<![^\\S\\n\\r])[^\\S\\n\\r]*)([:])(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#SequenceKeyword"
            },
            {
              "include": "#Expression"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#MultilineCloseBraceAhead"
        },
        {
          "include": "#MultilineCaseClause"
        },
        {
          "include": "#MultilineAlternativeClause"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#ReturnStatement"
        },
        {
          "include": "#TempDeclaration"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Choice"
        },
        {
          "include": "#Todo"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#MultilineConditionalText"
        }
      ],
      "end": "(?=[}])"
    },
    "MultilineAlternative": {
      "begin": "(?<=[{][^\\S\\n\\r]*)([^\\S\\n\\r]*)(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#MultilineCloseBraceAhead"
        },
        {
          "include": "#MultilineCaseClause"
        },
        {
          "include": "#MultilineAlternativeClause"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#Thread"
        },
        {
          "include": "#ReturnStatement"
        },
        {
          "include": "#TempDeclaration"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Choice"
        },
        {
          "include": "#Todo"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#MultilineConditionalText"
        }
      ],
      "end": "(?=[}])"
    },
    "MultilineCaseClause": {
      "begin": "^([^\\S\\n\\r]*)([-])((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))(?:(else)|([^|{}:]+))([^\\S\\n\\r]*)([:])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#MultilineCaseMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ElseKeyword"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Expression"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "8": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#MultilineCloseBraceAhead"
        },
        {
          "include": "#MultilineDashAhead"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#Thread"
        },
        {
          "include": "#ReturnStatement"
        },
        {
          "include": "#TempDeclaration"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Choice"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#MultilineConditionalText"
        }
      ],
      "end": "(?=^|[}]|[-](?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))"
    },
    "ElseKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.else.sd",
      "match": "(.+)"
    },
    "MultilineAlternativeClause": {
      "begin": "^([^\\S\\n\\r]*)([-])((?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#MultilineAlternativeMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#MultilineCloseBraceAhead"
        },
        {
          "include": "#MultilineDashAhead"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#Thread"
        },
        {
          "include": "#ReturnStatement"
        },
        {
          "include": "#TempDeclaration"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Choice"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#MultilineConditionalText"
        }
      ],
      "end": "(?=^|[}]|[-](?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))"
    },
    "SequenceKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.sequence.sd",
      "match": "\\b(stopping|shuffle|cycle|once)\\b"
    },
    "InlineConditionalText": {
      "patterns": [
        {
          "include": "#DisplayText"
        }
      ]
    },
    "MultilineConditionalText": {
      "begin": "(?=[^\\S\\n\\r]*\\S)",
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#MultilineCloseBraceAhead"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#ConditionalIndentedBlock"
        },
        {
          "include": "#Title"
        },
        {
          "include": "#Heading"
        },
        {
          "include": "#Transitional"
        },
        {
          "include": "#Write"
        },
        {
          "include": "#Dialogue"
        },
        {
          "include": "#Action"
        },
        {
          "include": "#DisplayText"
        }
      ],
      "end": "(?=$|[^\\S\\n\\r]*[}])"
    },
    "MultilineCaseMark": {
      "tag": "keyword",
      "name": "keyword.switch.clause.sd",
      "match": "([-])"
    },
    "MultilineAlternativeMark": {
      "tag": "keyword",
      "name": "keyword.sequence.clause.sd",
      "match": "([-])"
    },
    "PipeAhead": {
      "match": "(?=[|])"
    },
    "CloseBraceAhead": {
      "match": "(?=[}])"
    },
    "MultilineCloseBraceAhead": {
      "match": "^([^\\S\\n\\r]*)(?=[}])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        }
      }
    },
    "MultilineDashAhead": {
      "match": "^([^\\S\\n\\r]*)(?=[-](?:$|[^\\S\\n\\r]+|(?=(?:[:]|(?:[#]+(?:$|[^\\S\\n\\r]+))|(?:[/][/]|[/][*])))))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        }
      }
    },
    "ConditionalIndentedBlock": {
      "tag": "meta",
      "name": "meta.definition.type.conditional-block.sd",
      "brackets": true,
      "begin": "([^\\S\\n\\r]*)(\\b(?:if|elseif|else|match|case|stopping|shuffle|cycle|once|repeat|for|fill)\\b)\\b",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ConditionalKeyword"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "([:])|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        }
      }
    },
    "Expression": {
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#ConditionalKeyword"
        },
        {
          "include": "#RefModifier"
        },
        {
          "include": "#FunctionCall"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#Operator"
        },
        {
          "include": "#Literal"
        },
        {
          "include": "#Separator"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#ParenExpression"
        },
        {
          "include": "#BracketExpression"
        },
        {
          "include": "#BraceExpression"
        },
        {
          "include": "#AccessPath"
        },
        {
          "include": "#PunctuationComma"
        },
        {
          "include": "#IllegalChar"
        }
      ]
    },
    "ConditionalKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.definition.const.sd",
      "match": "(\\b(?:if|elseif|else|match|case|stopping|shuffle|cycle|once|repeat|for|fill)\\b)\\b"
    },
    "ParentheticalExpression": {
      "brackets": true,
      "begin": "([(])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.begin.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Separator"
        },
        {
          "include": "#InKeyword"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)([)])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.end.sd"
        }
      }
    },
    "Indent": {
      "tag": "content",
      "name": "markup.raw.whitespace.indent.sd",
      "match": "^([^\\S\\n\\r]+)"
    },
    "TrailingWhitespace": {
      "tag": "special(content)",
      "name": "markup.raw.whitespace.trailing.sd",
      "match": "(?<!^)([^\\S\\n\\r]+)$"
    },
    "ExtraWhitespace": {
      "tag": "content",
      "name": "markup.raw.whitespace.extra.sd",
      "match": "([^\\S\\n\\r]+)"
    },
    "Whitespace": {
      "tag": "content",
      "name": "markup.raw.whitespace.sd",
      "match": "([^\\S\\n\\r]+)"
    },
    "Separator": {
      "tag": "definition(content)",
      "name": "markup.raw.whitespace.separator.sd",
      "match": "([^\\S\\n\\r]+)"
    },
    "OptionalSeparator": {
      "tag": "definition(content)",
      "name": "markup.raw.whitespace.separator.optional.sd",
      "match": "([^\\S\\n\\r]*)"
    },
    "EndOfLine": {
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#TrailingWhitespace"
        }
      ]
    },
    "Operator": {
      "patterns": [
        {
          "include": "#HasOperator"
        },
        {
          "include": "#SpreadOperator"
        },
        {
          "include": "#AssignArithmeticOperator"
        },
        {
          "include": "#AssignBitwiseOperator"
        },
        {
          "include": "#BitwiseShiftOperator"
        },
        {
          "include": "#CompareEqualOperator"
        },
        {
          "include": "#CompareRelativeOperator"
        },
        {
          "include": "#HasntOperator"
        },
        {
          "include": "#NegateOperator"
        },
        {
          "include": "#LogicalOperator"
        },
        {
          "include": "#WordOperator"
        },
        {
          "include": "#BitwiseOperator"
        },
        {
          "include": "#AssignEqualOperator"
        },
        {
          "include": "#DecrementOperator"
        },
        {
          "include": "#IncrementOperator"
        },
        {
          "include": "#ArithmeticOperator"
        },
        {
          "include": "#AssignMultiplyOperator"
        },
        {
          "include": "#AssignDivideOperator"
        }
      ]
    },
    "SpreadOperator": {
      "tag": "derefOperator",
      "name": "keyword.operator.spread.sd",
      "match": "([.][.][.])"
    },
    "AssignArithmeticOperator": {
      "match": "([^\\S\\n\\r]*)([*][=]|(?<!\\()[/][=]|[%][=]|[+][=]|[-][=])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "updateOperator",
          "name": "keyword.operator.assignment.compound.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "AssignBitwiseOperator": {
      "match": "([^\\S\\n\\r]*)([&][=]|[\\^][=]|[<][<][=]|[>][>][=]|[>][>][>][=]|[|][=])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "updateOperator",
          "name": "keyword.operator.assignment.compound.bitwise.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "BitwiseShiftOperator": {
      "match": "([^\\S\\n\\r]*)([<][<]|[>][>][>]|[>][>])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "updateOperator",
          "name": "keyword.operator.bitwise.shift.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "CompareEqualOperator": {
      "match": "([^\\S\\n\\r]*)([=][=][=]|[!][=][=]|[=][=]|[!][=])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "compareOperator",
          "name": "keyword.operator.comparison.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "CompareRelativeOperator": {
      "match": "([^\\S\\n\\r]*)([<][=]|[>][=]|[<][>]|[<]|[>])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "compareOperator",
          "name": "keyword.operator.relational.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "HasntOperator": {
      "match": "([^\\S\\n\\r]*)([!][?])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "logicOperator",
          "name": "keyword.operator.logical.hasnt.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "HasOperator": {
      "match": "([^\\S\\n\\r]*)([?])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "logicOperator",
          "name": "keyword.operator.logical.has.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "NegateOperator": {
      "match": "([^\\S\\n\\r]*)([!])",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "logicOperator",
          "name": "keyword.operator.logical.sd"
        }
      }
    },
    "LogicalOperator": {
      "match": "([^\\S\\n\\r]*)([&][&]|[|][|]|[?][?])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "logicOperator",
          "name": "keyword.operator.logical.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "BitwiseOperator": {
      "match": "([^\\S\\n\\r]*)([&]|[~]|[\\^]|[|])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "bitwiseOperator",
          "name": "keyword.operator.bitwise.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "AssignEqualOperator": {
      "match": "([^\\S\\n\\r]*)([=])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "updateOperator",
          "name": "keyword.operator.assignment.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "DecrementOperator": {
      "match": "([-][-])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "tag": "updateOperator",
          "name": "keyword.operator.decrement.sd"
        },
        "2": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "IncrementOperator": {
      "match": "([+][+])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "tag": "updateOperator",
          "name": "keyword.operator.increment.sd"
        },
        "2": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "ArithmeticOperator": {
      "match": "([^\\S\\n\\r]*)([%]|[*]|[/]|[-]|[+])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "arithmeticOperator",
          "name": "keyword.operator.arithmetic.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "AssignMultiplyOperator": {
      "begin": "(?<=[)\\]0-9_\\p{L}-])([^\\S\\n\\r]*)(?=(\\/[*]([^*]|([*][^\\/]))*[*]\\/\\s*)+(?:(/=)|(?:(/)(?![/*]))))",
      "beginCaptures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        }
      ],
      "end": "(?:(/=)|(?:(/)(?![*]([^*]|([*][^\\/]))*[*][/])))([^\\S\\n\\r]*)",
      "endCaptures": {
        "1": {
          "tag": "updateOperator",
          "name": "keyword.operator.assignment.compound.sd"
        },
        "2": {
          "tag": "arithmeticOperator",
          "name": "keyword.operator.arithmetic.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "AssignDivideOperator": {
      "match": "(?<=[)\\]0-9_\\p{L}-])([^\\S\\n\\r]*)([/][=]|([/])(?![/*]))([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "2": {
          "tag": "arithmeticOperator",
          "name": "keyword.operator.arithmetic.sd"
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "AlternativeOperator": {
      "tag": "logicOperator",
      "name": "meta.template.expression.operator.pipe.sd",
      "match": "([|])"
    },
    "ColonOperator": {
      "tag": "logicOperator",
      "name": "meta.template.expression.operator.colon.sd",
      "match": "([:])"
    },
    "ColonSeparator": {
      "tag": "definition(logicOperator)",
      "name": "meta.template.expression.operator.colon.sd",
      "match": "([:])"
    },
    "WordOperator": {
      "match": "\\b(not|and|or|has|hasnt|mod)\\b([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.logical.word.sd"
        },
        "2": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "Literal": {
      "patterns": [
        {
          "include": "#StringLiteral"
        },
        {
          "include": "#NumericLiteral"
        },
        {
          "include": "#BooleanLiteral"
        },
        {
          "include": "#NullLiteral"
        },
        {
          "include": "#UndefinedLiteral"
        }
      ]
    },
    "StringLiteral": {
      "tag": "string",
      "name": "string.quoted.double.sd",
      "begin": "([\"])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationStringOpen"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#StringContent"
        }
      ],
      "end": "([\"])|($)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationStringClose"
            }
          ]
        }
      }
    },
    "StringContent": {
      "patterns": [
        {
          "include": "#StringEscape"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#StringCharacter"
        }
      ]
    },
    "PunctuationStringOpen": {
      "match": "([\"])",
      "tag": "string",
      "name": "punctuation.definition.string.begin.sd"
    },
    "PunctuationStringClose": {
      "match": "([\"])",
      "tag": "string",
      "name": "punctuation.definition.string.end.sd"
    },
    "StringEscape": {
      "match": "(\\\\)(.)",
      "captures": {
        "1": {
          "tag": "definition(escape)",
          "name": "constant.character.escape.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.sd"
        }
      }
    },
    "StringCharacter": {
      "tag": "content",
      "name": "markup.raw.whitespace.sd",
      "match": "(.)"
    },
    "NumericLiteral": {
      "patterns": [
        {
          "include": "#NumberLiteral"
        },
        {
          "include": "#NumericConstantLiteral"
        }
      ]
    },
    "NumberLiteral": {
      "tag": "number",
      "name": "constant.numeric.sd",
      "match": "([-]?(?:\\d*[.])?\\d+)"
    },
    "NumericConstantLiteral": {
      "patterns": [
        {
          "include": "#Infinity"
        },
        {
          "include": "#NaN"
        }
      ]
    },
    "NaN": {
      "tag": "atom",
      "name": "constant.language.nan.sd",
      "match": "(?<![0-9_\\p{L}-])(?:(?<=\\.\\.\\.)|(?<!\\.))NaN(?![0-9_\\p{L}-])(?:(?=\\.\\.\\.)|(?!\\.))"
    },
    "Infinity": {
      "tag": "atom",
      "name": "constant.language.infinity.sd",
      "match": "(?<![0-9_\\p{L}-])(?:(?<=\\.\\.\\.)|(?<!\\.))Infinity(?![0-9_\\p{L}-])(?:(?=\\.\\.\\.)|(?!\\.))"
    },
    "BooleanLiteral": {
      "patterns": [
        {
          "include": "#BooleanTrue"
        },
        {
          "include": "#BooleanFalse"
        }
      ]
    },
    "BooleanTrue": {
      "tag": "bool",
      "name": "constant.language.boolean.true.sd",
      "match": "(?<![0-9_\\p{L}-])(?:(?<=\\.\\.\\.)|(?<!\\.))true(?![0-9_\\p{L}-])(?:(?=\\.\\.\\.)|(?!\\.))"
    },
    "BooleanFalse": {
      "tag": "bool",
      "name": "constant.language.boolean.false.sd",
      "match": "(?<![0-9_\\p{L}-])(?:(?<=\\.\\.\\.)|(?<!\\.))false(?![0-9_\\p{L}-])(?:(?=\\.\\.\\.)|(?!\\.))"
    },
    "NullLiteral": {
      "tag": "null",
      "name": "constant.language.null.sd",
      "match": "(?<![0-9_\\p{L}-])(?:(?<=\\.\\.\\.)|(?<!\\.))null(?![0-9_\\p{L}-])(?:(?=\\.\\.\\.)|(?!\\.))"
    },
    "UndefinedLiteral": {
      "tag": "null",
      "name": "constant.language.undefined.sd",
      "match": "(?<![0-9_\\p{L}-])(?:(?<=\\.\\.\\.)|(?<!\\.))undefined(?![0-9_\\p{L}-])(?:(?=\\.\\.\\.)|(?!\\.))"
    },
    "ArrayLiteral": {
      "name": "meta.array.literal.sd",
      "brackets": true,
      "begin": "(\\[)",
      "beginCaptures": {
        "1": {
          "tag": "brace",
          "name": "meta.brace.square.open.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#ArrayItem"
        },
        {
          "include": "#Newline"
        }
      ],
      "end": "(\\])",
      "endCaptures": {
        "1": {
          "tag": "brace",
          "name": "meta.brace.square.close.sd"
        }
      }
    },
    "ArrayItem": {
      "tag": "meta",
      "name": "meta.item.sd",
      "begin": "(?=.+$)",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "(?=\\])|([,])",
      "endCaptures": {
        "1": {
          "tag": "separator",
          "name": "meta.template.expression.comma.sd"
        }
      }
    },
    "PunctuationComma": {
      "tag": "operator",
      "name": "keyword.operator.comma.sd",
      "match": "([,])"
    },
    "PunctuationSemicolon": {
      "tag": "separator",
      "name": "meta.template.expression.semicolon.sd",
      "match": "([;])"
    },
    "PunctuationParenOpen": {
      "match": "([(])",
      "tag": "keyword",
      "name": "punctuation.definition.template-expression.begin.sd"
    },
    "PunctuationParenClose": {
      "match": "([)])",
      "tag": "keyword",
      "name": "punctuation.definition.template-expression.end.sd"
    },
    "PunctuationBracketOpen": {
      "match": "(\\[)",
      "tag": "keyword",
      "name": "punctuation.definition.template-expression.begin.sd"
    },
    "PunctuationBracketClose": {
      "match": "(\\])",
      "tag": "keyword",
      "name": "punctuation.definition.template-expression.end.sd"
    },
    "PunctuationBraceOpen": {
      "match": "(\\{)",
      "tag": "keyword",
      "name": "punctuation.definition.template-expression.begin.sd"
    },
    "PunctuationBraceClose": {
      "match": "(\\})",
      "tag": "keyword",
      "name": "punctuation.definition.template-expression.end.sd"
    },
    "ParenExpression": {
      "brackets": true,
      "begin": "([(])([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationParenOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)([)])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PunctuationParenClose"
            }
          ]
        }
      }
    },
    "BracketExpression": {
      "brackets": true,
      "begin": "(\\[)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationBracketOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)(\\])",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PunctuationBracketClose"
            }
          ]
        }
      }
    },
    "BraceExpression": {
      "brackets": true,
      "begin": "(\\{)([^\\S\\n\\r]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationBraceOpen"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "$|([^\\S\\n\\r]*)(\\})",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PunctuationBraceClose"
            }
          ]
        }
      }
    },
    "NamespaceAccessor": {
      "match": "([_\\p{L}][0-9_\\p{L}-]*)([.])($|[_\\p{L}][0-9_\\p{L}-]*)(?![(])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#TypeName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PunctuationAccessor"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#VariableName"
            }
          ]
        }
      }
    },
    "VariableAccessor": {
      "match": "([.])([_\\p{L}][0-9_\\p{L}-]*)(?![(])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationAccessor"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#VariableName"
            }
          ]
        }
      }
    },
    "PropertyAccessor": {
      "match": "([.])([_\\p{L}][0-9_\\p{L}-]*)(?![(])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationAccessor"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PropertyName"
            }
          ]
        }
      }
    },
    "IllegalPropertyDeclaration": {
      "tag": "invalid",
      "name": "invalid.illegal.property-declaration.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)([^\\S\\n\\r]*)([:])(.*?)($|(?=[;}]))"
    },
    "TypeName": {
      "tag": "typeName",
      "name": "support.type.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)"
    },
    "VariableName": {
      "tag": "variableName",
      "name": "variable.other.constant.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)(?![(])"
    },
    "PropertyName": {
      "tag": "propertyName",
      "name": "variable.other.property.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)(?![(])"
    },
    "FunctionName": {
      "tag": "heading",
      "name": "keyword.control.divert.path.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)"
    },
    "Identifier": {
      "match": "([_\\p{L}][0-9_\\p{L}-]*)"
    },
    "PunctuationAccessor": {
      "match": "([.])",
      "tag": "separator",
      "name": "meta.template.expression.accessor.sd"
    },
    "Color": {
      "emit": true,
      "patterns": [
        {
          "include": "#HEXColor"
        },
        {
          "include": "#RGBColor"
        },
        {
          "include": "#HSLColor"
        }
      ]
    },
    "HEXColor": {
      "tag": "string",
      "name": "string.color.hex.sd",
      "match": "(#)([0-9a-fA-F]{3,})",
      "color": true
    },
    "RGBColor": {
      "tag": "string",
      "name": "string.color.rgb.sd",
      "match": "(rgb)([(][\\d]+[\\s]+[\\d]+[\\s]+[\\d]+(?:[\\s]*[/][\\s]*[\\d.]+[%]?)?[)])",
      "color": true
    },
    "HSLColor": {
      "tag": "string",
      "name": "string.color.hsl.sd",
      "match": "(hsl)([(][\\d]+[\\s]+[\\d]+[%]?[\\s]+[\\d]+[%]?(?:[\\s]*[/][\\s]*[\\d.]+[%]?)?[)])",
      "color": true
    },
    "FrontMatter": {
      "tag": "meta",
      "name": "meta.front-matter.sd",
      "begin": "^([-]{3,})($|[^\\S\\n\\r]*$)",
      "beginCaptures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.other.front-matter.dashes.start.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#FrontMatterField"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "^([-]{3,})($|[^\\S\\n\\r]*$)?",
      "endCaptures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.other.front-matter.dashes.end.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      }
    },
    "FrontMatterField": {
      "tag": "meta",
      "name": "meta.front-matter.field.sd",
      "begin": "^(?![^\\S\\n\\r]+)([^{}:\\r\\n]+)([^\\S\\n\\r]*)($|[:])($|.*$(?:\\r\\n|\\r|\\n)?)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#FrontMatterFieldKeyword"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#FrontMatterStringInline"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#FrontMatterStringBlock"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?![^\\S\\n\\r]+)[^{}:\\r\\n]+[^\\S\\n\\r]*(?:$|[:])|[-]{3,})"
    },
    "FrontMatterFieldKeyword": {
      "tag": "keyword",
      "name": "keyword.other.front-matter.field.sd",
      "match": "(.+)"
    },
    "FrontMatterStringInline": {
      "match": "([^\\S\\n\\r]*)($|.+$(?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#FrontMatterString"
            }
          ]
        }
      }
    },
    "FrontMatterStringBlock": {
      "match": "^([^\\S\\n\\r]+)(.*$(?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#FrontMatterString"
            }
          ]
        }
      }
    },
    "FrontMatterString": {
      "tag": "string",
      "name": "string.front-matter.string.sd",
      "begin": "(?=.*$)",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#InlineText"
        }
      ],
      "end": "($(?:\\r\\n|\\r|\\n)?)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "Title": {
      "patterns": [
        {
          "include": "#BlockTitle"
        },
        {
          "include": "#InlineTitle"
        }
      ]
    },
    "BlockTitle": {
      "tag": "monospace",
      "name": "constant.character.escape.title.sd",
      "begin": "^([^\\S\\n\\r]*)(\\^)([:])([^\\S\\n\\r]*)(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#TitleMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonSeparator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#BlockLineBlank"
        },
        {
          "include": "#BlockLineBreak"
        },
        {
          "include": "#BlockLineContinue"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "InlineTitle": {
      "tag": "monospace",
      "name": "constant.character.escape.title.sd",
      "begin": "([^\\S\\n\\r]*)(\\^)([:])($|[^\\S\\n\\r]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#TitleMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#LineBreak"
        },
        {
          "include": "#LineChain"
        },
        {
          "include": "#AssetLine"
        },
        {
          "include": "#ParentheticalLine"
        },
        {
          "include": "#LineEnd"
        },
        {
          "include": "#ExtraWhitespace"
        }
      ],
      "end": "(?=^[^\\S\\n\\r]*$)|(?=\\r\\n|\\r|\\n)|(?=[#])"
    },
    "TitleMark": {
      "tag": "definition(punctuation)",
      "name": "punctuation.title.mark.sd",
      "match": "(.+)"
    },
    "Heading": {
      "patterns": [
        {
          "include": "#BlockHeading"
        },
        {
          "include": "#InlineHeading"
        }
      ]
    },
    "BlockHeading": {
      "tag": "regexp",
      "name": "string.regexp.heading.block.sd",
      "begin": "^([^\\S\\n\\r]*)([$])([:])([^\\S\\n\\r]*)(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#HeadingMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonSeparator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#BlockLineBlank"
        },
        {
          "include": "#BlockLineBreak"
        },
        {
          "include": "#BlockLineContinue"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "InlineHeading": {
      "tag": "regexp",
      "name": "string.regexp.heading.inline.sd",
      "begin": "([^\\S\\n\\r]*)([$])([:])($|[^\\S\\n\\r]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#HeadingMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#LineBreak"
        },
        {
          "include": "#LineChain"
        },
        {
          "include": "#AssetLine"
        },
        {
          "include": "#ParentheticalLine"
        },
        {
          "include": "#LineEnd"
        },
        {
          "include": "#ExtraWhitespace"
        }
      ],
      "end": "(?=^[^\\S\\n\\r]*$)|(?=\\r\\n|\\r|\\n)|(?=[#])"
    },
    "HeadingMark": {
      "tag": "definition(punctuation)",
      "name": "punctuation.heading.mark.sd",
      "match": "(.+)"
    },
    "HeadingLocationTime": {
      "match": "INT[.]?[\\/]EXT[.]|INT[.]|EXT[.][^\\S\\n\\r]*(.*?)[^\\S\\n\\r]+[-][^\\S\\n\\r]+(.*?)[^\\S\\n\\r]*$"
    },
    "Transitional": {
      "patterns": [
        {
          "include": "#BlockTransitional"
        },
        {
          "include": "#InlineTransitional"
        }
      ]
    },
    "BlockTransitional": {
      "tag": "labelName",
      "name": "keyword.control.transitional.block.sd",
      "begin": "^([^\\S\\n\\r]*)([%])([:])([^\\S\\n\\r]*)(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#TransitionalMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonSeparator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#BlockLineBlank"
        },
        {
          "include": "#BlockLineBreak"
        },
        {
          "include": "#BlockLineContinue"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "InlineTransitional": {
      "tag": "labelName",
      "name": "keyword.control.transitional.inline.sd",
      "begin": "([^\\S\\n\\r]*)([%])([:])($|[^\\S\\n\\r]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#TransitionalMark"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#LineBreak"
        },
        {
          "include": "#LineChain"
        },
        {
          "include": "#AssetLine"
        },
        {
          "include": "#ParentheticalLine"
        },
        {
          "include": "#LineEnd"
        },
        {
          "include": "#ExtraWhitespace"
        }
      ],
      "end": "(?=^[^\\S\\n\\r]*$)|(?=\\r\\n|\\r|\\n)|(?=[#])"
    },
    "TransitionalMark": {
      "tag": "definition(punctuation)",
      "name": "punctuation.transitional.mark.sd",
      "match": "(.+)"
    },
    "Write": {
      "patterns": [
        {
          "include": "#BlockWrite"
        },
        {
          "include": "#InlineWrite"
        }
      ]
    },
    "BlockWrite": {
      "tag": "string",
      "name": "string.write.block.sd",
      "begin": "^([^\\S\\n\\r]*)([@])([^\\S\\n\\r]*)((?:\\\\.|[^:\\r\\n])*)((?<!\\\\)[:])([^\\S\\n\\r]*)(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#WriteMark"
            }
          ]
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#WriteTarget"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ColonSeparator"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#BlockLineBlank"
        },
        {
          "include": "#BlockLineBreak"
        },
        {
          "include": "#BlockLineContinue"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "InlineWrite": {
      "tag": "string",
      "name": "string.write.inline.sd",
      "begin": "([^\\S\\n\\r]*)([@])([^\\S\\n\\r]*)((?:\\\\.|[^:\\r\\n])*)((?<!\\\\)[:])($|[^\\S\\n\\r]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#WriteMark"
            }
          ]
        },
        "3": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#WriteTarget"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ColonSeparator"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#LineBreak"
        },
        {
          "include": "#LineChain"
        },
        {
          "include": "#AssetLine"
        },
        {
          "include": "#ParentheticalLine"
        },
        {
          "include": "#LineEnd"
        }
      ],
      "end": "(?=^[^\\S\\n\\r]*$)|(?=\\r\\n|\\r|\\n)"
    },
    "WriteMark": {
      "tag": "keyword",
      "name": "keyword.action.mark.sd",
      "match": "(.+)"
    },
    "WriteTarget": {
      "tag": "propertyName",
      "name": "variable.other.property.write.target.sd",
      "match": "(.+)"
    },
    "Dialogue": {
      "patterns": [
        {
          "include": "#BlockDialogue"
        },
        {
          "include": "#InlineDialogue"
        }
      ]
    },
    "BlockDialogue": {
      "tag": "string",
      "name": "string.dialogue.block.sd",
      "begin": "^([^\\S\\n\\r]*)((?=\\S)(?:\\\\.|[^{}:\\r\\n])+)((?<!\\\\)[:])([^\\S\\n\\r]*)(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Annotation"
            },
            {
              "include": "#DialogueCharacter"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonSeparator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#BlockLineBlank"
        },
        {
          "include": "#BlockLineBreak"
        },
        {
          "include": "#BlockLineContinue"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "InlineDialogue": {
      "tag": "string",
      "name": "string.dialogue.inline.sd",
      "begin": "([^\\S\\n\\r]*)((?=\\S)(?:\\\\.|[^{}:\\r\\n])+)((?<!\\\\)[:])($|[^\\S\\n\\r]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Annotation"
            },
            {
              "include": "#DialogueCharacter"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonSeparator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#LineBreak"
        },
        {
          "include": "#LineChain"
        },
        {
          "include": "#AssetLine"
        },
        {
          "include": "#ParentheticalLine"
        },
        {
          "include": "#LineEnd"
        }
      ],
      "end": "(?=^[^\\S\\n\\r]*$)|(?=\\r\\n|\\r|\\n)"
    },
    "DialogueMark": {
      "tag": "definition(typeName)",
      "name": "entity.name.type.dialogue.character.name.sd",
      "match": "(.+)"
    },
    "DialogueCharacter": {
      "match": "([^\\S\\n\\r]*)(.*?)([^\\S\\n\\r]*)([^\\S\\n\\r][(][^()]*?[)])?($|[^\\S\\n\\r]*)([^\\S\\n\\r]\\[.*?\\])?((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#DialogueCharacterName"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#DialogueCharacterParenthetical"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#DialogueCharacterPosition"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "DialogueCharacterName": {
      "tag": "typeName",
      "name": "entity.name.type.dialogue.character.name.sd",
      "match": "(.+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DisplayText"
            }
          ]
        }
      }
    },
    "DialogueCharacterParenthetical": {
      "tag": "escape",
      "name": "constant.character.escape.dialogue.character.parenthetical.sd",
      "match": "([^\\S\\n\\r])([(])([^\\S\\n\\r]*)([^()]*?)([^\\S\\n\\r]*)([)])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Whitespace"
            }
          ]
        },
        "2": {
          "tag": "paren",
          "name": "meta.brace.round.open.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#DisplayText"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "6": {
          "tag": "paren",
          "name": "meta.brace.round.close.sd"
        },
        "7": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      }
    },
    "DialogueCharacterPosition": {
      "tag": "definition(escape)",
      "name": "constant.character.escape.dialogue.character.position.sd",
      "match": "([^\\S\\n\\r])(\\[)([^\\S\\n\\r]*)(.*?)([^\\S\\n\\r]*)(\\])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Whitespace"
            }
          ]
        },
        "2": {
          "tag": "bracket",
          "name": "punctuation.definition.position.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#DialogueCharacterPositionContent"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "6": {
          "tag": "bracket",
          "name": "punctuation.definition.position.sd"
        }
      }
    },
    "DialogueCharacterPositionContent": {
      "match": "(.+$)"
    },
    "Action": {
      "patterns": [
        {
          "include": "#BlockAction"
        },
        {
          "include": "#InlineAction"
        },
        {
          "include": "#ImplicitAction"
        }
      ]
    },
    "BlockAction": {
      "begin": "^([^\\S\\n\\r]*)([:])([^\\S\\n\\r]*)(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ColonSeparator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#BlockLineBlank"
        },
        {
          "include": "#BlockLineBreak"
        },
        {
          "include": "#BlockLineContinue"
        }
      ],
      "end": "(?=^(?!$|//|\\1[^\\S\\n\\r]))"
    },
    "InlineAction": {
      "begin": "([^\\S\\n\\r]*)(?:([<][>])|([:])($|[^\\S\\n\\r]+))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Glue"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#LineBreak"
        },
        {
          "include": "#LineChain"
        },
        {
          "include": "#AssetLine"
        },
        {
          "include": "#ParentheticalLine"
        },
        {
          "include": "#LineEnd"
        },
        {
          "include": "#ExtraWhitespace"
        }
      ],
      "end": "(?=^[^\\S\\n\\r]*$)|(?=\\r\\n|\\r|\\n)|(?=[#])"
    },
    "ImplicitAction": {
      "begin": "([^\\S\\n\\r]*)(?=\\S)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#LineBreak"
        },
        {
          "include": "#LineChain"
        },
        {
          "include": "#AssetLine"
        },
        {
          "include": "#ParentheticalLine"
        },
        {
          "include": "#LineEnd"
        },
        {
          "include": "#ExtraWhitespace"
        }
      ],
      "end": "(?=^[^\\S\\n\\r]*$)|(?=\\r\\n|\\r|\\n)|(?=[#])"
    },
    "ParentheticalLine": {
      "match": "([^\\S\\n\\r]*)((?:[=].*?[=]|[<].*?[>]|[^\\S\\n\\r]*)*)([^\\S\\n\\r]*)([(][^()]*?[)])([^\\S\\n\\r]*)((?:[=].*?[=]|[<].*?[>]|[^\\S\\n\\r]*)*)($|(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$)|(?=(?:[^\\S\\n\\r]+[>][^\\S\\n\\r]*))|[\\\\](?:[^\\S\\n\\r]))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#TextCommand"
            },
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ParentheticalLineContent"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#TextCommand"
            },
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#EndOfLine"
            },
            {
              "include": "#Chain"
            }
          ]
        }
      }
    },
    "ParentheticalLineContent": {
      "tag": "escape",
      "name": "constant.character.escape.sd",
      "match": "([^\\S\\n\\r]*)([(])([^\\S\\n\\r]*)([^()]*?)([^\\S\\n\\r]*)([)])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "tag": "paren",
          "name": "meta.brace.round.open.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#DisplayText"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "6": {
          "tag": "paren",
          "name": "meta.brace.round.close.sd"
        },
        "7": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        }
      }
    },
    "BlockLineBreak": {
      "match": "([^\\S\\n\\r]*)(.*?)((?:[^\\S\\n\\r]+[>][^\\S\\n\\r]*))((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#AssetLine"
            },
            {
              "include": "#ParentheticalLine"
            },
            {
              "include": "#DisplayLine"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Break"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "BlockLineContinue": {
      "begin": "([^\\S\\n\\r]*)(?=\\S)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#AssetLine"
        },
        {
          "include": "#ParentheticalLine"
        },
        {
          "include": "#DisplayLine"
        }
      ],
      "end": "([^\\S\\n\\r]*)(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Whitespace"
            }
          ]
        }
      }
    },
    "BlockLineBlank": {
      "match": "^([^\\S\\n\\r]+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        }
      }
    },
    "LineChain": {
      "match": "([^\\S\\n\\r]*)(.*?)([\\\\](?:$|[^\\S\\n\\r]+))((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))(\\r\\n|\\r|\\n)?",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#DisplayLine"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Chain"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "LineBreak": {
      "match": "([^\\S\\n\\r]*)(.*?)((?:[^\\S\\n\\r]+[>][^\\S\\n\\r]*))((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#DisplayLine"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#Break"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "LineEnd": {
      "begin": "([^\\S\\n\\r]*)(?=\\S)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#DisplayLine"
        }
      ],
      "end": "(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))"
    },
    "DisplayLine": {
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Escape"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#ParentheticalLine"
        },
        {
          "include": "#Chain"
        },
        {
          "include": "#Glue"
        },
        {
          "include": "#TextChunk"
        }
      ]
    },
    "TextChunk": {
      "begin": "(?=.+)",
      "patterns": [
        {
          "include": "#DisplayText"
        }
      ],
      "end": "(?=$|[^\\S\\n\\r]*[\\\\](?:$|[^\\S\\n\\r])|[<][>]|(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))"
    },
    "DisplayText": {
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Escape"
        },
        {
          "include": "#ImageCommand"
        },
        {
          "include": "#AudioCommand"
        },
        {
          "include": "#InlineTextAndLogic"
        }
      ]
    },
    "ImageLine": {
      "match": "^([^\\S\\n\\r]*)(?=\\S)((?:\\[\\[(?:\\\\.|[^\\]])*?\\]\\]|[^\\S\\n\\r]+)+)((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ImageCommand"
            },
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "AudioLine": {
      "match": "^([^\\S\\n\\r]*)(?=\\S)((?:[(][(](?:\\\\.|[^)])*?[)][)]|[^\\S\\n\\r]+)+)((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#AudioCommand"
            },
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "ImageAndAudioLine": {
      "match": "^([^\\S\\n\\r]*)(?=\\S)((?:\\[\\[(?:\\\\.|[^\\]])*?\\]\\]|[(][(](?:\\\\.|[^)])*?[)][)]|[^\\S\\n\\r]+)+)((?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ImageCommand"
            },
            {
              "include": "#AudioCommand"
            },
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#EndOfLine"
            }
          ]
        }
      }
    },
    "AssetLine": {
      "patterns": [
        {
          "include": "#ImageLine"
        },
        {
          "include": "#AudioLine"
        },
        {
          "include": "#ImageAndAudioLine"
        }
      ]
    },
    "ImageCommand": {
      "tag": "macroName",
      "name": "meta.image.sd",
      "match": "(\\[\\[)([^\\S\\n\\r]*)((?:\\\\.|[^\\]])*?)([^\\S\\n\\r]*)(\\]\\])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#ImageBeginMark"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AssetCommandContent"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ImageEndMark"
            }
          ]
        },
        "6": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "AudioCommand": {
      "tag": "macroName",
      "name": "meta.audio.sd",
      "match": "([(][(])([^\\S\\n\\r]*)((?:\\\\.|[^)])*?)([^\\S\\n\\r]*)([)][)])([^\\S\\n\\r]*)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#AudioBeginMark"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AssetCommandContent"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#AudioEndMark"
            }
          ]
        },
        "6": {
          "emit": true,
          "patterns": [
            {
              "include": "#OptionalSeparator"
            }
          ]
        }
      }
    },
    "AssetCommandContent": {
      "match": "(.*?)($|(?:\\b(?:over|after|with|wait|ease)\\b|\\b(?:over|after|to|loop|once|mute|unmute|now)\\b)(?=$|[^\\S\\n\\r]).*)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Separator"
            },
            {
              "include": "#AssetCommandInstruction"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Annotation"
            },
            {
              "include": "#Separator"
            },
            {
              "include": "#AssetCommandClauseKeyword"
            },
            {
              "include": "#TimeValue"
            },
            {
              "include": "#NumberValue"
            },
            {
              "include": "#NameValue"
            }
          ]
        }
      }
    },
    "AssetCommandInstruction": {
      "match": "(?:(\\b(?:show|hide|animate)\\b|\\b(?:play|stop|fade|queue|await)\\b)([^\\S\\n\\r]*)($|\\S+))?([^\\S\\n\\r]*)($|\\S+)?([^\\S\\n\\r]*)(.*)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#AssetCommandControl"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#AssetCommandTarget"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#AssetCommandAddOperator"
            },
            {
              "include": "#AssetCommandName"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#Separator"
            }
          ]
        },
        "7": {
          "patterns": [
            {
              "include": "#AssetCommandAddOperator"
            },
            {
              "include": "#AssetCommandName"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        }
      }
    },
    "ImageBeginMark": {
      "tag": "keyword",
      "name": "keyword.operator.expression.begin.image.sd",
      "match": "(.+)"
    },
    "ImageEndMark": {
      "tag": "keyword",
      "name": "keyword.operator.expression.end.image.sd",
      "match": "(.+)"
    },
    "AudioBeginMark": {
      "tag": "keyword",
      "name": "keyword.operator.expression.begin.audio.sd",
      "match": "(.+)"
    },
    "AudioEndMark": {
      "tag": "keyword",
      "name": "keyword.operator.expression.end.audio.sd",
      "match": "(.+)"
    },
    "AssetCommandControl": {
      "tag": "controlKeyword",
      "name": "keyword.control.asset.control.sd",
      "match": "(.+)"
    },
    "AssetCommandTarget": {
      "tag": "typeName",
      "name": "entity.name.type.asset.target.sd",
      "match": "(.+)"
    },
    "AssetCommandClauseKeyword": {
      "tag": "keyword",
      "name": "keyword.asset.clause.keyword.sd",
      "match": "(\\b(?:over|after|with|wait|ease)\\b|\\b(?:over|after|to|loop|once|mute|unmute|now)\\b)"
    },
    "AssetCommandName": {
      "match": "(.+?)(?=$|[+])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Separator"
            },
            {
              "include": "#StringLiteral"
            },
            {
              "include": "#AssetCommandKeywordNone"
            },
            {
              "include": "#AssetCommandFilteredFileName"
            },
            {
              "include": "#AssetCommandFileName"
            },
            {
              "include": "#AssetCommandFilter"
            },
            {
              "include": "#IllegalChar"
            }
          ]
        }
      }
    },
    "AssetCommandKeywordNone": {
      "tag": "keyword",
      "name": "keyword.asset.keyword.none.sd",
      "match": "(none)"
    },
    "AssetCommandFilteredFileName": {
      "tag": "variableName",
      "name": "variable.other.constant.asset.file.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)((?:[~][^~\\s]+)+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#AssetCommandFileName"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#AssetCommandFilter"
            }
          ]
        }
      }
    },
    "AssetCommandFileName": {
      "tag": "variableName",
      "name": "variable.other.constant.asset.file.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)"
    },
    "AssetCommandAddOperator": {
      "tag": "propertyName",
      "name": "variable.other.property.add.sd",
      "match": "([+])"
    },
    "AssetCommandFilter": {
      "match": "([~])($|[^~\\s]+)?",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#AssetCommandFilterOperator"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#AssetCommandFilterName"
            }
          ]
        }
      }
    },
    "AssetCommandFilterOperator": {
      "tag": "propertyName",
      "name": "variable.other.property.filter.sd",
      "match": "([~])"
    },
    "AssetCommandFilterName": {
      "tag": "variableName",
      "name": "variable.other.constant.asset.filter.sd",
      "match": "([^~\\s]+)"
    },
    "WhitespaceAssetCommandClause": {
      "tag": "content",
      "name": "markup.raw.whitespace.sd",
      "match": "([^\\S\\n\\r]+)"
    },
    "TimeValue": {
      "tag": "number",
      "name": "constant.numeric.time.sd",
      "match": "([-]?(?:\\d*[.])?\\d+)(ms|s)(?=$|[^\\S\\n\\r])",
      "captures": {
        "1": {
          "tag": "number",
          "name": "constant.numeric.time.amount.sd"
        },
        "2": {
          "tag": "number",
          "name": "constant.numeric.time.unit.sd"
        }
      }
    },
    "NumberValue": {
      "tag": "number",
      "name": "constant.numeric.number.sd",
      "match": "([-]?(?:\\d*[.])?\\d+)(?=$|[^\\S\\n\\r])"
    },
    "NameValue": {
      "tag": "variableName",
      "name": "variable.other.constant.sd",
      "match": "([_\\p{L}][0-9_\\p{L}-]*)(?=$|[^\\S\\n\\r])"
    },
    "InvalidValue": {
      "tag": "content",
      "name": "markup.raw.text.sd",
      "match": "(\\S+)"
    },
    "TextCommand": {
      "tag": "macroName",
      "name": "meta.text.sd",
      "match": "([<](?![^\\S\\n\\r]))((?:\\\\.|[^>])*?)((?<![-])[>])",
      "captures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.operator.expression.begin.tag.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#TextCommandContent"
            }
          ]
        },
        "3": {
          "tag": "keyword",
          "name": "keyword.operator.expression.end.tag.sd"
        }
      }
    },
    "TextCommandContent": {
      "match": "([^\\S\\n\\r]*)([^ :]+)([^\\S\\n\\r]*)(?:([:])([^\\S\\n\\r]*)(.*))?",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#TextCommandControl"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#ColonOperator"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#ExtraWhitespace"
            }
          ]
        },
        "6": {
          "patterns": [
            {
              "include": "#TextCommandArguments"
            }
          ]
        }
      }
    },
    "TextCommandControl": {
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#NumericLiteral"
            },
            {
              "include": "#TextCommandControlKeyword"
            }
          ]
        }
      }
    },
    "TextCommandControlKeyword": {
      "tag": "keyword",
      "name": "keyword.style.control.keyword.sd",
      "match": "(.+)"
    },
    "TextCommandArguments": {
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#TextCommandArgument"
            }
          ]
        }
      }
    },
    "TextCommandArgument": {
      "tag": "meta",
      "name": "meta.argument.sd",
      "begin": "(?=.+$)",
      "patterns": [
        {
          "include": "#Annotation"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "(?=$)|([,])",
      "endCaptures": {
        "1": {
          "tag": "separator",
          "name": "meta.template.expression.comma.sd"
        }
      }
    },
    "ControlKeyword": {
      "tag": "controlKeyword",
      "name": "keyword.control.sd",
      "match": "(.+)"
    },
    "InlineTextAndLogic": {
      "patterns": [
        {
          "include": "#Escape"
        },
        {
          "include": "#Divert"
        },
        {
          "include": "#Thread"
        },
        {
          "include": "#ConditionalBracedBlock"
        },
        {
          "include": "#AudioCommand"
        },
        {
          "include": "#ImageCommand"
        },
        {
          "include": "#InlineText"
        }
      ]
    },
    "InlineText": {
      "patterns": [
        {
          "include": "#Escape"
        },
        {
          "include": "#Raw"
        },
        {
          "include": "#Styling"
        },
        {
          "include": "#Emphasis"
        },
        {
          "include": "#PlainText"
        }
      ]
    },
    "Escape": {
      "match": "(?:^(\\\\)([^\\S\\n\\r])|(?<!^)(\\\\)([^\\S\\n\\r])|(\\\\)(\\S))",
      "captures": {
        "1": {
          "tag": "definition(escape)",
          "name": "constant.character.escape.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.text.sd"
        },
        "3": {
          "tag": "definition(escape)",
          "name": "constant.character.escape.sd"
        },
        "4": {
          "tag": "content",
          "name": "markup.raw.text.sd"
        },
        "5": {
          "tag": "definition(escape)",
          "name": "constant.character.escape.sd"
        },
        "6": {
          "tag": "content",
          "name": "markup.raw.text.sd"
        }
      }
    },
    "Newline": {
      "tag": "content",
      "name": "markup.raw.whitespace.newline.sd",
      "match": "(\\r\\n|\\r|\\n)"
    },
    "Styling": {
      "patterns": [
        {
          "include": "#Glue"
        },
        {
          "include": "#TextCommand"
        },
        {
          "include": "#Underline"
        },
        {
          "include": "#BoldItalic"
        },
        {
          "include": "#Bold"
        },
        {
          "include": "#Italic"
        },
        {
          "include": "#Centered"
        }
      ]
    },
    "StylingMark": {
      "match": "(.+)",
      "captures": {
        "1": {
          "tag": "definition(content)",
          "name": "markup.raw.text.sd"
        }
      }
    },
    "Raw": {
      "tag": "content",
      "name": "markup.raw.text.sd",
      "begin": "([`]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#PlainText"
        }
      ],
      "end": "(\\1)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "BoldItalic": {
      "tag": "strong",
      "name": "markup.other.bold.sd",
      "begin": "([*][*])(?=[*])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Italic"
        }
      ],
      "end": "(\\1)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "Bold": {
      "tag": "strong",
      "name": "markup.other.bold.sd",
      "begin": "([*][*])(?![*])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#InlineTextAndLogic"
        }
      ],
      "end": "(\\1)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "Italic": {
      "tag": "emphasis",
      "name": "markup.other.italic.sd",
      "begin": "([*])(?![*])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#InlineTextAndLogic"
        }
      ],
      "end": "(\\1)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "Underline": {
      "tag": "link",
      "name": "markup.other.underline.sd",
      "begin": "([_]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#InlineTextAndLogic"
        }
      ],
      "end": "(\\1)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "Centered": {
      "tag": "monospace",
      "name": "constant.character.escape.centered.sd",
      "begin": "([\\^]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#InlineTextAndLogic"
        }
      ],
      "end": "(\\1)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "Emphasis": {
      "patterns": [
        {
          "include": "#EmphasisTilde"
        },
        {
          "include": "#EmphasisColon"
        }
      ]
    },
    "EmphasisTilde": {
      "tag": "quote",
      "name": "markup.emphasis.tilde.sd",
      "begin": "([~][~]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#InlineTextAndLogic"
        }
      ],
      "end": "(\\1)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "EmphasisColon": {
      "tag": "quote",
      "name": "markup.emphasis.colon.sd",
      "begin": "([:][:]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#InlineTextAndLogic"
        }
      ],
      "end": "(\\1)|(?=(?:$|[^\\S\\n\\r]*$|[^\\S\\n\\r]*(?:[#]+(?:$|[^\\S\\n\\r]+)).*$|[^\\S\\n\\r]*[/][/].*$))",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "PlainText": {
      "patterns": [
        {
          "include": "#Newline"
        },
        {
          "include": "#Space"
        },
        {
          "include": "#Word"
        },
        {
          "include": "#EmDash"
        },
        {
          "include": "#Punctuation"
        }
      ]
    },
    "Space": {
      "tag": "content",
      "name": "markup.raw.space.sd",
      "match": "([ ])"
    },
    "Word": {
      "tag": "content",
      "name": "markup.raw.text.sd",
      "match": "((?:[\\p{L}\\p{N}\\p{Mn}']+))"
    },
    "EmDash": {
      "tag": "content",
      "name": "markup.raw.punctuation.sd",
      "match": "([-][-])"
    },
    "Punctuation": {
      "tag": "content",
      "name": "markup.raw.punctuation.sd",
      "match": "(.)"
    },
    "Other": {
      "tag": "content",
      "name": "markup.raw.text.sd",
      "match": "(.)"
    },
    "IllegalExpression": {
      "tag": "invalid",
      "name": "invalid.illegal.illegal-expression.sd",
      "match": "(.+)"
    },
    "IllegalChar": {
      "tag": "invalid",
      "name": "invalid.illegal.illegal-char.sd",
      "match": "(.)"
    },
    "Unknown": {
      "tag": "invalid",
      "name": "invalid.illegal.unknown-statement.sd",
      "match": "(.+$)"
    }
  }
}