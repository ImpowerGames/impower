{
  "fileTypes": [
    "sparkdown",
    "sd",
    "script",
    "project"
  ],
  "keyEquivalent": "^~S",
  "indentUnit": "  ",
  "name": "Sparkdown",
  "scopeName": "text.source.sparkdown",
  "uuid": "E26C862D-2A5E-4F10-B0C3-D6BCB838CB7F",
  "flags": "mu",
  "patterns": [
    {
      "include": "#Comment"
    },
    {
      "include": "#Label"
    },
    {
      "include": "#Newline"
    },
    {
      "include": "#ExplicitAction"
    },
    {
      "include": "#FrontMatter"
    },
    {
      "include": "#Chunk"
    },
    {
      "include": "#Section"
    },
    {
      "include": "#FlowBreak"
    },
    {
      "include": "#Import"
    },
    {
      "include": "#Define"
    },
    {
      "include": "#Logic"
    },
    {
      "include": "#Jump"
    },
    {
      "include": "#Transition"
    },
    {
      "include": "#Scene"
    },
    {
      "include": "#Centered"
    },
    {
      "include": "#Dialogue"
    },
    {
      "include": "#ImplicitAction"
    },
    {
      "include": "#Unknown"
    }
  ],
  "repository": {
    "Comment": {
      "tag": "lineComment",
      "name": "comment.line.sd",
      "match": "^([ \\t]*)([&][&])($|[ \\t]*)($|.*$)",
      "captures": {
        "1": {
          "tag": "content",
          "name": "markup.raw.whitespace.leading.sd"
        },
        "2": {
          "tag": "definition(lineComment)",
          "name": "punctuation.definition.comment.mark.sd"
        },
        "3": {
          "tag": "definition(lineComment)",
          "name": "punctuation.definition.comment.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#CommentContent"
            }
          ]
        }
      }
    },
    "CommentContent": {
      "tag": "definition(lineComment)",
      "name": "punctuation.definition.comment.content.sd",
      "match": "(.+)"
    },
    "IllegalExpression": {
      "tag": "invalid",
      "name": "invalid.illegal.illegal-expression.sd",
      "match": "(.+)",
      "captures": {
        "1": {
          "tag": "content",
          "name": "markup.raw.unknown.sd"
        }
      }
    },
    "IllegalChar": {
      "tag": "invalid",
      "name": "invalid.illegal.illegal-char.sd",
      "match": "(.)",
      "captures": {
        "1": {
          "tag": "content",
          "name": "markup.raw.unknown.sd"
        }
      }
    },
    "Unknown": {
      "tag": "invalid",
      "name": "invalid.illegal.unknown-statement.sd",
      "match": "(.+$)",
      "captures": {
        "1": {
          "tag": "content",
          "name": "markup.raw.unknown.sd"
        }
      }
    },
    "Label": {
      "match": "^([=])([ \\t]+)(.*$)",
      "captures": {
        "1": {
          "tag": "content",
          "name": "markup.raw.equal.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#Expression"
            }
          ]
        }
      }
    },
    "FrontMatter": {
      "tag": "meta",
      "name": "meta.front-matter.sd",
      "begin": "^([-]{3,})($|[ \\t]*$)",
      "beginCaptures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.other.front-matter.dashes.start.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#FrontMatterField"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "^([-]{3,})($|[ \\t]*$)?",
      "endCaptures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.other.front-matter.dashes.end.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      }
    },
    "FrontMatterField": {
      "tag": "meta",
      "name": "meta.front-matter.field.sd",
      "begin": "^([_a-zA-Z][_a-zA-Z0-9]*)($|[:])(.*$(?:\\r\\n|\\r|\\n)?)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#FrontMatterFieldKeyword"
            }
          ]
        },
        "2": {
          "tag": "punctuation",
          "name": "punctuation.separator.colon.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#FrontMatterStringInline"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#FrontMatterArrayItem"
        },
        {
          "include": "#FrontMatterStringBlock"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^[_a-zA-Z][_a-zA-Z0-9]*[:]|[-]{3,})"
    },
    "FrontMatterArrayItem": {
      "match": "^([ ]{2,}|[\\t]+)([-])($|[ \\t]+)(.*$(?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.operator.expression.array.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#FrontMatterString"
            }
          ]
        }
      }
    },
    "FrontMatterStringInline": {
      "match": "($|[ \\t]*)(.*$(?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#FrontMatterString"
            }
          ]
        }
      }
    },
    "FrontMatterStringBlock": {
      "match": "^($|[ \\t]*)(.*$(?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#FrontMatterString"
            }
          ]
        }
      }
    },
    "FrontMatterString": {
      "tag": "string",
      "name": "string.front-matter.string.sd",
      "begin": "(?=.*$)",
      "patterns": [
        {
          "include": "#InlineText"
        }
      ],
      "end": "($(?:\\r\\n|\\r|\\n)?)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "FrontMatterFieldKeyword": {
      "tag": "keyword",
      "name": "keyword.other.front-matter.field.sd",
      "match": "(.+)"
    },
    "ChunkSplitter": {
      "match": "^((?:[@])(?:$|[ \\t]+)(?:$|[._a-zA-Z][._a-zA-Z0-9]*)(?:$|[ \\t]*$))"
    },
    "Chunk": {
      "tag": "definition(annotation)",
      "name": "keyword.control.chunk.sd",
      "match": "^([@])($|[ \\t]+)($|[._a-zA-Z][._a-zA-Z0-9]*)($|[ \\t]*$)",
      "captures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.control.chunk.percent.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#ChunkName"
            }
          ]
        },
        "4": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      }
    },
    "ChunkName": {
      "tag": "special(annotation)",
      "name": "keyword.control.chunk.sd",
      "match": "(.+)"
    },
    "Section": {
      "tag": "definition(heading)",
      "name": "keyword.control.section.sd",
      "match": "^([#]+)($|[ \\t]+)($|[_a-zA-Z][_a-zA-Z0-9]*)($|[ \\t]*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#SectionLevel"
            }
          ]
        },
        "2": {
          "tag": "punctuation",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#SectionName"
            }
          ]
        },
        "4": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      }
    },
    "SectionLevel": {
      "tag": "keyword",
      "name": "keyword.control.section.number-sign.sd",
      "match": "(.+)"
    },
    "SectionName": {
      "tag": "special(heading)",
      "name": "keyword.control.section.sd",
      "match": "(.+)"
    },
    "FlowBreak": {
      "tag": "meta",
      "name": "meta.break.sd",
      "match": "^(===+)($|[ \\t]*$)",
      "captures": {
        "1": {
          "tag": "contentSeparator",
          "name": "keyword.control.flow-break.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      }
    },
    "Logic": {
      "patterns": [
        {
          "include": "#Break"
        },
        {
          "include": "#Continue"
        },
        {
          "include": "#Return"
        },
        {
          "include": "#Delete"
        },
        {
          "include": "#Branch"
        },
        {
          "include": "#Repeat"
        },
        {
          "include": "#Define"
        },
        {
          "include": "#Call"
        },
        {
          "include": "#Assign"
        },
        {
          "include": "#Access"
        }
      ]
    },
    "Import": {
      "tag": "meta",
      "name": "meta.import.sd",
      "begin": "^([ \\t]*)(import)($|[ \\t]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.control.import.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#ImportDeclaration"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "($)"
    },
    "ImportDeclaration": {
      "match": "([_a-zA-Z][_a-zA-Z0-9]*)($|[ \\t]+)($|[_a-zA-Z][_a-zA-Z0-9]*)($|[ \\t]*)($|.+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#TypeIdentifier"
            }
          ]
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#DeclarationName"
            }
          ]
        },
        "4": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "5": {
          "patterns": [
            {
              "include": "#ImportAssignment"
            },
            {
              "include": "#Unknown"
            }
          ]
        }
      }
    },
    "ImportAssignment": {
      "match": "($|from)($|[ \\t]+)($|.*$)",
      "captures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.control.from.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#String"
            },
            {
              "include": "#Unknown"
            }
          ]
        }
      }
    },
    "Define": {
      "patterns": [
        {
          "include": "#DefineFunction"
        },
        {
          "include": "#DefineVariable"
        },
        {
          "include": "#DefineStruct"
        },
        {
          "include": "#DefineInvalid"
        }
      ]
    },
    "DefineFunction": {
      "tag": "meta",
      "name": "meta.definition.function.sd",
      "begin": "^([ \\t]*)(define)([ \\t]+)([_a-zA-Z][_a-zA-Z0-9]*(?=[ \\t]+\\S))?($|[ \\t]*)($|[_a-zA-Z][_a-zA-Z0-9]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.definition.function.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#TypeIdentifier"
            }
          ]
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "6": {
          "patterns": [
            {
              "include": "#FunctionName"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#DefineParameters"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Expression"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "DefineParameters": {
      "tag": "meta",
      "name": "meta.define.function.parameters.sd",
      "brackets": true,
      "begin": "([(])",
      "beginCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.open.sd"
        }
      },
      "patterns": [
        {
          "include": "#Parameter"
        },
        {
          "include": "#Newline"
        }
      ],
      "end": "([)])([ \\t]*)([:]?)",
      "endCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.close.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "tag": "punctuation",
          "name": "punctuation.separator.colon.sd"
        }
      }
    },
    "CallParameters": {
      "brackets": true,
      "begin": "([(])",
      "beginCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.open.sd"
        }
      },
      "patterns": [
        {
          "include": "#Parameter"
        }
      ],
      "end": "([)])",
      "endCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.close.sd"
        }
      }
    },
    "Parameter": {
      "tag": "meta",
      "name": "meta.parameter.sd",
      "begin": "(?=.+$)",
      "patterns": [
        {
          "include": "#Expression"
        }
      ],
      "end": "(?=[)])|([,])",
      "endCaptures": {
        "1": {
          "tag": "punctuation",
          "name": "punctuation.separator.comma.sd"
        }
      }
    },
    "DefineVariable": {
      "tag": "meta",
      "name": "meta.definition.variable.sd",
      "begin": "^([ \\t]*)(define)($|[ \\t]+)([_a-zA-Z][_a-zA-Z0-9]*(?=[ \\t]+\\S))?($|[ \\t]*)($|[_a-zA-Z][_a-zA-Z0-9]*)($|[ \\t]*)([=])($|[ \\t]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.definition.object.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#TypeIdentifier"
            }
          ]
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "6": {
          "patterns": [
            {
              "include": "#DeclarationName"
            }
          ]
        },
        "7": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "8": {
          "patterns": [
            {
              "include": "#AssignOperator"
            }
          ]
        },
        "9": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      },
      "patterns": [
        {
          "include": "#ValueText"
        }
      ],
      "end": "([;])|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationSemicolon"
            }
          ]
        }
      }
    },
    "DefineStruct": {
      "tag": "meta",
      "name": "meta.definition.struct.sd",
      "begin": "^([ \\t]*)(define)($|[ \\t]+)([_a-zA-Z][_a-zA-Z0-9]*(?=[ \\t]+\\S))?($|[ \\t]*)($|[_a-zA-Z][_a-zA-Z0-9]*)($|[ \\t]*)(?:($|[:]?)($|[ \\t]*$)|([:]?)(.+$))",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.definition.object.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#TypeIdentifier"
            }
          ]
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "6": {
          "patterns": [
            {
              "include": "#DeclarationName"
            }
          ]
        },
        "7": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "8": {
          "tag": "punctuation",
          "name": "punctuation.separator.colon.sd"
        },
        "9": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        },
        "10": {
          "tag": "punctuation",
          "name": "punctuation.separator.colon.sd"
        },
        "11": {
          "patterns": [
            {
              "include": "#Unknown"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#StructField"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^$)|(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "StructField": {
      "emit": true,
      "patterns": [
        {
          "include": "#StructMapItem"
        },
        {
          "include": "#StructScalarItem"
        },
        {
          "include": "#StructMapProperty"
        },
        {
          "include": "#StructScalarProperty"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#StructEmptyProperty"
        }
      ]
    },
    "StructEmptyProperty": {
      "match": "(\\s*$)"
    },
    "StructMapItem": {
      "tag": "meta",
      "name": "meta.definition.struct.item.map.sd",
      "begin": "^([ \\t]*)([-])($|[ \\t]+$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.operator.expression.array.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#StructMapItem"
        },
        {
          "include": "#StructScalarItem"
        },
        {
          "include": "#StructMapProperty"
        },
        {
          "include": "#StructScalarProperty"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "StructScalarItem": {
      "tag": "meta",
      "name": "meta.definition.struct.item.scalar.sd",
      "begin": "^([ \\t]*)([-])([ \\t]+)(?=.*\\S.*$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.operator.expression.array.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#ValueText"
        }
      ],
      "end": "(?=$)"
    },
    "StructMapProperty": {
      "tag": "meta",
      "name": "meta.definition.struct.property.map.sd",
      "begin": "^([ \\t]*)([^ \\t:]+)($|[:])($|[ \\t]*$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PropertyName"
            },
            {
              "include": "#IllegalExpression"
            }
          ]
        },
        "3": {
          "tag": "punctuation",
          "name": "punctuation.separator.colon.sd"
        },
        "4": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#StructMapItem"
        },
        {
          "include": "#StructScalarItem"
        },
        {
          "include": "#StructMapProperty"
        },
        {
          "include": "#StructScalarProperty"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#StructEmptyProperty"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "StructScalarProperty": {
      "tag": "meta",
      "name": "meta.definition.struct.property.scalar.sd",
      "begin": "^([ \\t]*)([^ \\t:]+)($|[:])($|[ \\t]*)(?=.*\\S.*$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#PropertyName"
            },
            {
              "include": "#IllegalExpression"
            }
          ]
        },
        "3": {
          "tag": "updateOperator",
          "name": "keyword.operator.assignment.sd"
        },
        "4": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#ValueText"
        }
      ],
      "end": "(?=$)"
    },
    "DefineInvalid": {
      "tag": "meta",
      "name": "meta.define.invalid.sd",
      "begin": "^([ \\t]*)(define)($|[ \\t]+)($|.+$)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.definition.define.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#Unknown"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "Break": {
      "tag": "meta",
      "name": "meta.break.sd",
      "match": "^([ \\t]*)(break)($|[ \\t]+$|[ \\t]*[;])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.flow.break.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      }
    },
    "Continue": {
      "tag": "meta",
      "name": "meta.continue.sd",
      "match": "^([ \\t]*)(continue)($|[ \\t]+$|[ \\t]*[;])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.flow.continue.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      }
    },
    "Return": {
      "patterns": [
        {
          "include": "#ReturnVoid"
        },
        {
          "include": "#ReturnValue"
        }
      ]
    },
    "ReturnVoid": {
      "tag": "meta",
      "name": "meta.return.sd",
      "match": "^([ \\t]*)(return)($|[ \\t]+$|[ \\t]*[;])",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.flow.return.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      }
    },
    "ReturnValue": {
      "tag": "meta",
      "name": "meta.return.sd",
      "begin": "^([ \\t]*)(return)($|[ \\t]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.control.flow.return.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#ParentheticalExpression"
        },
        {
          "include": "#NonParentheticalExpression"
        }
      ],
      "end": "([;])|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationSemicolon"
            }
          ]
        }
      }
    },
    "ParentheticalExpression": {
      "name": "meta.expression.parenthetical.sd",
      "brackets": true,
      "begin": "([(])",
      "beginCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.open.sd"
        }
      },
      "patterns": [
        {
          "include": "#Expression"
        }
      ],
      "end": "([)])",
      "endCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.close.sd"
        }
      }
    },
    "NonParentheticalExpression": {
      "name": "meta.expression.nonparenthetical.sd",
      "match": "(.+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Expression"
            }
          ]
        }
      }
    },
    "Delete": {
      "tag": "meta",
      "name": "meta.delete.sd",
      "match": "^([ \\t]*)(delete)($|[ \\t]+)($|[_a-zA-Z][\\[\\]._a-zA-Z0-9]*)($|[ \\t]*)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.operator.expression.delete.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#IdentifierPath"
            }
          ]
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      }
    },
    "Branch": {
      "patterns": [
        {
          "include": "#If"
        },
        {
          "include": "#Elseif"
        },
        {
          "include": "#Else"
        }
      ]
    },
    "If": {
      "tag": "meta",
      "name": "meta.branch.if.sd",
      "begin": "^([ \\t]*)(if)($|[ \\t]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.branch.if.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Jump"
        },
        {
          "include": "#Condition"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+|elseif|else)))"
    },
    "Elseif": {
      "tag": "meta",
      "name": "meta.branch.elseif.sd",
      "begin": "^([ \\t]*)(elseif)($|[ \\t]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.branch.elseif.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Jump"
        },
        {
          "include": "#Condition"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "Else": {
      "tag": "meta",
      "name": "meta.branch.else.sd",
      "begin": "^([ \\t]*)(else)($|[ \\t]*)($|[:])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.branch.else.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "tag": "punctuation",
          "name": "punctuation.separator.colon.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Jump"
        },
        {
          "include": "#Condition"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "Repeat": {
      "patterns": [
        {
          "include": "#While"
        },
        {
          "include": "#Until"
        },
        {
          "include": "#For"
        }
      ]
    },
    "While": {
      "tag": "meta",
      "name": "meta.repeat.while.sd",
      "begin": "^([ \\t]*)(while)($|[ \\t]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.repeat.while.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Jump"
        },
        {
          "include": "#Condition"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "Until": {
      "tag": "meta",
      "name": "meta.repeat.until.sd",
      "begin": "^([ \\t]*)(until)($|[ \\t]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.repeat.while.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Jump"
        },
        {
          "include": "#Condition"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "For": {
      "tag": "meta",
      "name": "meta.repeat.for.sd",
      "begin": "^([ \\t]*)(for)($|[ \\t]+)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.control.repeat.while.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Logic"
        },
        {
          "include": "#Jump"
        },
        {
          "include": "#Condition"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Unknown"
        }
      ],
      "end": "(?=^(?!\\1(?:[ ]{2,}|[\\t]+)))"
    },
    "Condition": {
      "patterns": [
        {
          "include": "#ParentheticalCondition"
        },
        {
          "include": "#NonParentheticalCondition"
        }
      ]
    },
    "ParentheticalCondition": {
      "name": "meta.condition.parenthetical.sd",
      "brackets": true,
      "begin": "([(])",
      "beginCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.open.sd"
        }
      },
      "patterns": [
        {
          "include": "#Expression"
        }
      ],
      "end": "([)])",
      "endCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.close.sd"
        }
      }
    },
    "NonParentheticalCondition": {
      "name": "meta.condition.nonparenthetical.sd",
      "match": "(.+?)([:])($|[ \\t]*)($|.+)|(.+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Expression"
            }
          ]
        },
        "2": {
          "tag": "punctuation",
          "name": "punctuation.separator.colon.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#Unknown"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Expression"
            }
          ]
        }
      }
    },
    "Call": {
      "tag": "meta",
      "name": "meta.call.sd",
      "begin": "^([ \\t]*)(.*?[.])?([_a-zA-Z][_a-zA-Z0-9]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#IdentifierPath"
            }
          ]
        },
        "3": {
          "tag": "function(variableName)",
          "name": "entity.name.function.sd"
        }
      },
      "patterns": [
        {
          "include": "#CallParameters"
        }
      ],
      "end": "([;])|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationSemicolon"
            }
          ]
        }
      }
    },
    "FunctionCall": {
      "tag": "meta",
      "name": "meta.function-call.sd",
      "begin": "([.]?)([_a-zA-Z][_a-zA-Z0-9]*)(?=[(])",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationAccessor"
            }
          ]
        },
        "2": {
          "tag": "function(variableName)",
          "name": "entity.name.function.sd"
        }
      },
      "patterns": [
        {
          "include": "#CallParameters"
        }
      ],
      "end": "([;])|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationSemicolon"
            }
          ]
        }
      }
    },
    "Assign": {
      "tag": "meta",
      "name": "meta.assign.sd",
      "begin": "^([ \\t]*)($|.+?)($|[ \\t]*)([!?~^|&<>%/*+-]{0,2}[=])($|[ \\t]*)",
      "beginCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#IdentifierPath"
            }
          ]
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#AssignOperator"
            }
          ]
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      },
      "patterns": [
        {
          "include": "#ValueText"
        }
      ],
      "end": "([;])|(?=$)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#PunctuationSemicolon"
            }
          ]
        }
      }
    },
    "Access": {
      "tag": "meta",
      "name": "meta.access.sd",
      "match": "^([ \\t]*)([_a-zA-Z][_a-zA-Z0-9]*[?]?[.][_a-zA-Z].*|[_a-zA-Z][_a-zA-Z0-9]*(?:[?][.])?\\[.*)$",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#IdentifierPath"
            }
          ]
        }
      }
    },
    "ValueText": {
      "emit": true,
      "patterns": [
        {
          "include": "#Expression"
        }
      ]
    },
    "IdentifierPath": {
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#ArrayLiteral"
            },
            {
              "include": "#PropertyAccessor"
            },
            {
              "include": "#VariableName"
            }
          ]
        }
      }
    },
    "DeclarationName": {
      "emit": true,
      "patterns": [
        {
          "include": "#VariableName"
        },
        {
          "include": "#Unknown"
        }
      ]
    },
    "AssignOperator": {
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#AssignArithmeticOperator"
            },
            {
              "include": "#AssignBitwiseOperator"
            },
            {
              "include": "#AssignEqualOperator"
            },
            {
              "include": "#AssignMultiplyOperator"
            },
            {
              "include": "#AssignDivideOperator"
            },
            {
              "include": "#IllegalExpression"
            }
          ]
        }
      }
    },
    "Jump": {
      "tag": "meta",
      "name": "meta.jump.sd",
      "match": "^([ \\t]*)((?=[-][>]).+$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#JumpTo"
            }
          ]
        }
      }
    },
    "JumpTo": {
      "begin": "([-][>])($|[ \\t]+)",
      "beginCaptures": {
        "1": {
          "tag": "function(variableName)",
          "name": "entity.name.function.jump.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#JumpToSection"
        }
      ],
      "end": "($|[ \\t]*$)",
      "endCaptures": {
        "1": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      }
    },
    "JumpToSection": {
      "tag": "heading",
      "name": "keyword.control.jump.name.sd",
      "match": "(.*?)$",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#InlineTemplateStringConditionalSubstitution"
            }
          ]
        }
      }
    },
    "Choice": {
      "name": "entity.choice.sd",
      "match": "^([+])($|[ \\t]+)($|.*?)($|[-][>].*$)((?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.operator.expression.list.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#ChoiceContent"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#JumpTo"
            }
          ]
        },
        "5": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "ChoiceContent": {
      "tag": "string",
      "name": "string.choice.sd",
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DisplayText"
            }
          ]
        }
      }
    },
    "Image": {
      "tag": "macroName",
      "name": "meta.image.sd",
      "match": "^([ \\t]*)(\\[\\[)(.*?)(\\]\\])($|[ \\t]*$)((?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.operator.expression.begin.image.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#AudioContent"
            }
          ]
        },
        "4": {
          "tag": "keyword",
          "name": "keyword.operator.expression.end.image.sd"
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        },
        "6": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "InlineImage": {
      "tag": "macroName",
      "name": "meta.image.sd",
      "match": "(\\[\\[)((?:\\\\.|[^\\]])*)(\\]\\])",
      "captures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.operator.expression.begin.image.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#AudioContent"
            }
          ]
        },
        "3": {
          "tag": "keyword",
          "name": "keyword.operator.expression.end.image.sd"
        }
      }
    },
    "ImageContent": {
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#AssetContent"
            }
          ]
        }
      }
    },
    "Audio": {
      "tag": "macroName",
      "name": "meta.audio.sd",
      "match": "^([ \\t]*)([(][(])(.*?)([)][)])($|[ \\t]*$)((?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.operator.expression.begin.audio.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#AudioContent"
            }
          ]
        },
        "4": {
          "tag": "keyword",
          "name": "keyword.operator.expression.end.audio.sd"
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        },
        "6": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "InlineAudio": {
      "tag": "macroName",
      "name": "meta.audio.sd",
      "match": "([(][(])((?:\\\\.|[^)])*)([)][)])",
      "captures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.operator.expression.begin.audio.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#AudioContent"
            }
          ]
        },
        "3": {
          "tag": "keyword",
          "name": "keyword.operator.expression.end.audio.sd"
        }
      }
    },
    "AudioContent": {
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#AssetContent"
            }
          ]
        }
      }
    },
    "AssetContent": {
      "match": "(?:([@])($|[_a-zA-Z][_a-zA-Z0-9]*)([ \\t]*))?((?:[^@ \\t:]+[ \\t]*)+)?($|[:])($|.*)",
      "captures": {
        "1": {
          "tag": "controlKeyword",
          "name": "keyword.control.asset.layer.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#AssetLayer"
            }
          ]
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#AssetNames"
            }
          ]
        },
        "5": {
          "tag": "separator",
          "name": "meta.template.expression.colon.sd"
        },
        "6": {
          "patterns": [
            {
              "include": "#AssetArgs"
            }
          ]
        }
      }
    },
    "AssetLayer": {
      "tag": "controlKeyword",
      "name": "keyword.control.asset.layer.sd",
      "match": "(.+)"
    },
    "AssetNames": {
      "tag": "variableName",
      "name": "variable.other.constant.asset.name.sd",
      "match": "(.+)"
    },
    "AssetArgs": {
      "tag": "keyword",
      "name": "keyword.asset.arguments.sd",
      "match": "(.+)"
    },
    "Transition": {
      "tag": "labelName",
      "name": "keyword.control.transition.sd",
      "match": "^(?:([%])($|[ \\t]+)($|.+?)|((?:[^ \\p{Ll}]+\\b[ \\t]+)*(?:(?:[^ \\p{Ll}]+\\b[ \\t]+)+TO[:]|TO BLACK[:.]|FADE OUT[:.]|FADE IN[:.])))($|[ \\t]*$)",
      "captures": {
        "1": {
          "tag": "punctuation",
          "name": "punctuation.transition.mark.sd"
        },
        "2": {
          "tag": "punctuation",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#TransitionContent"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#TransitionContent"
            }
          ]
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      }
    },
    "TransitionContent": {
      "begin": "(?=.*$)",
      "patterns": [
        {
          "include": "#DisplayText"
        }
      ],
      "end": "(?=$)"
    },
    "Scene": {
      "tag": "regexp",
      "name": "string.regexp.scene.sd",
      "match": "^(?:([$])($|[ \\t]+)($|.+?)|((?:INT[.]?[\\/]EXT[.]|INT[.]|EXT[.]|CLOSEUP[ \\t]*[-])(?:$|[ \\t]+)(?:$|.+?)))($|[ \\t]*$)",
      "captures": {
        "1": {
          "tag": "punctuation",
          "name": "punctuation.scene.mark.sd"
        },
        "2": {
          "tag": "punctuation",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#SceneContent"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#SceneContent"
            }
          ]
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        }
      }
    },
    "SceneContent": {
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DisplayText"
            }
          ]
        }
      }
    },
    "SceneLocationTime": {
      "match": "INT[.]?[\\/]EXT[.]|INT[.]|EXT[.][ \\t]*(.*?)[ \\t]+[-][ \\t]+(.*?)[ \\t]*$"
    },
    "Centered": {
      "tag": "monospace",
      "name": "markup.other.centered.sd",
      "match": "^([|])(.*?)([|])($|[ \\t]*$)",
      "captures": {
        "1": {
          "tag": "bracket",
          "name": "markup.other.centered.bar-left.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#CenteredContent"
            }
          ]
        },
        "3": {
          "tag": "bracket",
          "name": "markup.other.centered.bar-right.sd"
        },
        "4": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        }
      }
    },
    "CenteredContent": {
      "tag": "special(monospace)",
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DisplayText"
            }
          ]
        }
      }
    },
    "Dialogue": {
      "name": "entity.dialogue.sd",
      "begin": "^(?:([*])($|[ \\t]+)(.+?)|([\\p{Lu}][^\\p{Ll}\\r\\n^%()]*[\\p{Lu}?]))($|[ \\t]*)([(][^)]*(?:$|[)]))?($|[ \\t]*)(\\^)?($|[ \\t]*$)((?:\\r\\n|\\r|\\n)?)",
      "beginCaptures": {
        "1": {
          "tag": "keyword",
          "name": "keyword.dialogue.mark.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#DialogueCharacterName"
            }
          ]
        },
        "4": {
          "patterns": [
            {
              "include": "#DialogueCharacterName"
            }
          ]
        },
        "5": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "6": {
          "patterns": [
            {
              "include": "#DialogueCharacterParenthetical"
            }
          ]
        },
        "7": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "8": {
          "patterns": [
            {
              "include": "#DialogueCharacterSimultaneous"
            }
          ]
        },
        "9": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "10": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      },
      "patterns": [
        {
          "include": "#DialogueBox"
        }
      ],
      "end": "^$"
    },
    "DialogueCharacterName": {
      "tag": "typeName",
      "name": "entity.name.type.dialogue.character.name.sd",
      "match": "(.+$)"
    },
    "DialogueCharacterParenthetical": {
      "tag": "escape",
      "name": "constant.character.escape.dialogue.character.parenthetical.sd",
      "match": "(.+$)"
    },
    "DialogueCharacterSimultaneous": {
      "tag": "escape",
      "name": "constant.character.escape.dialogue.character.simultaneous.sd",
      "match": "(.+$)"
    },
    "DialogueBox": {
      "tag": "string",
      "name": "string.dialogue.line.sd",
      "begin": "^(?=.+$)",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Choice"
        },
        {
          "include": "#Image"
        },
        {
          "include": "#Audio"
        },
        {
          "include": "#DialogueLineParenthetical"
        },
        {
          "include": "#BoxLineContinue"
        },
        {
          "include": "#BoxLineComplete"
        }
      ],
      "end": "(?=^$)|(\\r\\n|\\r|\\n)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "DialogueLineParenthetical": {
      "tag": "tagName",
      "name": "constant.character.escape.sd",
      "match": "^([ \\t]*)([(][^()]*[)])($|[ \\t]*$)((?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#Indent"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#DialogueLineParentheticalContent"
            }
          ]
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        },
        "4": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "DialogueLineParentheticalContent": {
      "tag": "escape",
      "name": "constant.character.escape.sd",
      "match": "(.+)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        }
      }
    },
    "BoxLineContinue": {
      "match": "(.*[ \\t]$(?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DisplayText"
            }
          ]
        }
      }
    },
    "BoxLineComplete": {
      "match": "(.*$)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#DisplayText"
            }
          ]
        }
      }
    },
    "ExplicitAction": {
      "tag": "content",
      "name": "entity.paragraph.text.action.explicit.sd",
      "begin": "^([!])($|[ \\t]+)(?=.+$)",
      "beginCaptures": {
        "1": {
          "tag": "punctuation",
          "name": "keyword.operator.expression.action.explicit.sd"
        },
        "2": {
          "tag": "punctuation",
          "name": "markup.raw.whitespace.separator.sd"
        }
      },
      "patterns": [
        {
          "include": "#ActionBox"
        }
      ],
      "end": "^$"
    },
    "ImplicitAction": {
      "tag": "content",
      "name": "entity.paragraph.text.action.implicit.sd",
      "begin": "^(?=.+$)",
      "patterns": [
        {
          "include": "#ActionBox"
        }
      ],
      "end": "^$"
    },
    "ActionBox": {
      "tag": "content",
      "name": "markup.raw.action.line.sd",
      "begin": "(?=.+$)",
      "patterns": [
        {
          "include": "#Comment"
        },
        {
          "include": "#Choice"
        },
        {
          "include": "#Image"
        },
        {
          "include": "#Audio"
        },
        {
          "include": "#BoxLineContinue"
        },
        {
          "include": "#BoxLineComplete"
        }
      ],
      "end": "(?=^$)|(\\r\\n|\\r|\\n)",
      "endCaptures": {
        "1": {
          "patterns": [
            {
              "include": "#Newline"
            }
          ]
        }
      }
    },
    "DisplayText": {
      "name": "entity.display.sd",
      "match": "(?:([!]?(?:\\d+|[_a-zA-Z][_a-zA-Z0-9]*))?([?][:])([ \\t]*))?(?:([@])([_a-zA-Z][_a-zA-Z0-9]*)([ \\t]*))?($|.+$(?:\\r\\n|\\r|\\n)?)",
      "captures": {
        "1": {
          "tag": "variableName",
          "name": "variable.other.constant.sd"
        },
        "2": {
          "tag": "keyword",
          "name": "keyword.operator.expression.prerequisite.sd"
        },
        "3": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "4": {
          "tag": "controlKeyword",
          "name": "keyword.control.asset.layer.sd"
        },
        "5": {
          "patterns": [
            {
              "include": "#TextLayer"
            }
          ]
        },
        "6": {
          "tag": "content",
          "name": "markup.raw.whitespace.separator.sd"
        },
        "7": {
          "patterns": [
            {
              "include": "#InlineImage"
            },
            {
              "include": "#InlineAudio"
            },
            {
              "include": "#DisplayString"
            }
          ]
        }
      }
    },
    "TextLayer": {
      "tag": "controlKeyword",
      "name": "keyword.control.text.layer.sd",
      "match": "(.+)"
    },
    "DisplayString": {
      "emit": true,
      "patterns": [
        {
          "include": "#InlineText"
        }
      ]
    },
    "InlineText": {
      "emit": true,
      "patterns": [
        {
          "include": "#Escape"
        },
        {
          "include": "#InlineTemplateStringSubstitution"
        },
        {
          "include": "#Styling"
        },
        {
          "include": "#Emphasis"
        },
        {
          "include": "#Pause"
        },
        {
          "include": "#PlainText"
        }
      ]
    },
    "PlainText": {
      "emit": true,
      "patterns": [
        {
          "include": "#Space"
        },
        {
          "include": "#Word"
        },
        {
          "include": "#EmDash"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#Punctuation"
        }
      ]
    },
    "Word": {
      "tag": "content",
      "name": "markup.raw.text.sd",
      "match": "([\\p{L}\\p{N}\\p{Mn}_']+)"
    },
    "Space": {
      "tag": "content",
      "name": "markup.raw.space.sd",
      "match": "([ \\t])"
    },
    "EmDash": {
      "tag": "content",
      "name": "markup.raw.punctuation.sd",
      "match": "([-][-])"
    },
    "Newline": {
      "tag": "content",
      "name": "markup.raw.whitespace.newline.sd",
      "match": "(\\r\\n|\\r|\\n)"
    },
    "Punctuation": {
      "tag": "content",
      "name": "markup.raw.punctuation.sd",
      "match": "(.)"
    },
    "Pause": {
      "tag": "special(content)",
      "name": "markup.raw.whitespace.pause.sd",
      "match": "(?=[ ][ ])[ ]+|[ ]+$"
    },
    "Escape": {
      "tag": "escape",
      "name": "constant.character.escape.sd",
      "match": "\\\\[-`*_#+.!(){}\\[\\]\\\\>]"
    },
    "Styling": {
      "patterns": [
        {
          "include": "#Underline"
        },
        {
          "include": "#BoldItalic"
        },
        {
          "include": "#Bold"
        },
        {
          "include": "#Italic"
        }
      ]
    },
    "StylingMark": {
      "match": "([*_]+)",
      "captures": {
        "1": {
          "tag": "bracket",
          "name": "punctuation.definition.styling.sd"
        }
      }
    },
    "BoldItalic": {
      "tag": "strong",
      "name": "markup.bold.sd",
      "match": "([*][*]+)([*].+?[*])(\\1)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#Italic"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "Bold": {
      "tag": "strong",
      "name": "markup.bold.sd",
      "match": "([*][*](?![*]))(.+?)(\\1)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "Italic": {
      "tag": "emphasis",
      "name": "markup.italic.sd",
      "match": "([*](?![*]))(.+?)(\\1)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "Underline": {
      "tag": "link",
      "name": "markup.underline.sd",
      "match": "([_]+)(.+?)(\\1)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        },
        "3": {
          "patterns": [
            {
              "include": "#StylingMark"
            }
          ]
        }
      }
    },
    "Emphasis": {
      "patterns": [
        {
          "include": "#EmphasisCaret"
        },
        {
          "include": "#EmphasisTilde"
        },
        {
          "include": "#EmphasisEqual"
        },
        {
          "include": "#EmphasisForwardSlash"
        },
        {
          "include": "#EmphasisBackSlash"
        },
        {
          "include": "#EmphasisColon"
        }
      ]
    },
    "EmphasisCaret": {
      "tag": "emphasis",
      "name": "markup.emphasis.sd",
      "match": "([\\^]+)([^\\^]+)(\\1)",
      "captures": {
        "1": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        },
        "3": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        }
      }
    },
    "EmphasisTilde": {
      "tag": "emphasis",
      "name": "markup.emphasis.sd",
      "match": "([~][~]+)((?:(?![~][~][ \\t]+).)*)(\\1)",
      "captures": {
        "1": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        },
        "3": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        }
      }
    },
    "EmphasisEqual": {
      "tag": "emphasis",
      "name": "markup.emphasis.sd",
      "match": "([=][=]+)((?:(?![=][=][ \\t]+).)*)(\\1)",
      "captures": {
        "1": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        },
        "3": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        }
      }
    },
    "EmphasisForwardSlash": {
      "tag": "emphasis",
      "name": "markup.emphasis.sd",
      "match": "([/][/]+)((?:(?![/][/][ \\t]+).)*)(\\1)",
      "captures": {
        "1": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        },
        "3": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        }
      }
    },
    "EmphasisBackSlash": {
      "tag": "emphasis",
      "name": "markup.emphasis.sd",
      "match": "([\\\\][\\\\]+)((?:(?![\\\\][\\\\][ \\t]+).)*)(\\1)",
      "captures": {
        "1": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        },
        "3": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        }
      }
    },
    "EmphasisColon": {
      "tag": "emphasis",
      "name": "markup.emphasis.sd",
      "match": "([:][:]+)((?:(?![:][:][ \\t]+).)*)(\\1)",
      "captures": {
        "1": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        },
        "2": {
          "patterns": [
            {
              "include": "#InlineText"
            }
          ]
        },
        "3": {
          "tag": "bracket",
          "name": "punctuation.definition.emphasis.sd"
        }
      }
    },
    "Expression": {
      "patterns": [
        {
          "include": "#IllegalPropertyDeclaration"
        },
        {
          "include": "#String"
        },
        {
          "include": "#ExpressionOperators"
        },
        {
          "include": "#NumericLiteral"
        },
        {
          "include": "#BooleanLiteral"
        },
        {
          "include": "#NullLiteral"
        },
        {
          "include": "#UndefinedLiteral"
        },
        {
          "include": "#NumericConstantLiteral"
        },
        {
          "include": "#Whitespace"
        },
        {
          "include": "#Newline"
        },
        {
          "include": "#ParenExpression"
        },
        {
          "include": "#PropertyAccessor"
        },
        {
          "include": "#FunctionCall"
        },
        {
          "include": "#VariableName"
        },
        {
          "include": "#ExpressionPunctuations"
        },
        {
          "include": "#IllegalChar"
        }
      ]
    },
    "Indent": {
      "tag": "content",
      "name": "markup.raw.whitespace.indent.sd",
      "match": "^([ \\t]+)"
    },
    "Whitespace": {
      "tag": "content",
      "name": "markup.raw.whitespace.sd",
      "match": "([ \\t]+)"
    },
    "String": {
      "patterns": [
        {
          "include": "#SingleQuoteString"
        },
        {
          "include": "#DoubleQuoteString"
        },
        {
          "include": "#TemplateString"
        }
      ]
    },
    "DoubleQuoteString": {
      "tag": "string",
      "name": "string.quoted.double.sd",
      "begin": "([\"])",
      "beginCaptures": {
        "1": {
          "tag": "string",
          "name": "punctuation.definition.string.begin.sd"
        }
      },
      "patterns": [
        {
          "include": "#Color"
        },
        {
          "include": "#DoubleQuoteStringContent"
        }
      ],
      "end": "([\"])|($)",
      "endCaptures": {
        "1": {
          "tag": "string",
          "name": "punctuation.definition.string.end.sd"
        }
      }
    },
    "DoubleQuoteStringContent": {
      "tag": "string",
      "name": "string.quoted.double.content.sd",
      "match": "((?:[^\"\\\\]|\\\\.)*)"
    },
    "SingleQuoteString": {
      "tag": "string",
      "name": "string.quoted.single.sd",
      "begin": "(['])",
      "beginCaptures": {
        "1": {
          "tag": "string",
          "name": "punctuation.definition.string.begin.sd"
        }
      },
      "patterns": [
        {
          "include": "#Color"
        },
        {
          "include": "#SingleQuoteStringContent"
        }
      ],
      "end": "(['])|($)",
      "endCaptures": {
        "1": {
          "tag": "string",
          "name": "punctuation.definition.string.end.sd"
        }
      }
    },
    "SingleQuoteStringContent": {
      "tag": "string",
      "name": "string.quoted.double.content.sd",
      "match": "((?:[^'\\\\]|\\\\.)*)"
    },
    "ExpressionOperators": {
      "patterns": [
        {
          "include": "#AwaitOperator"
        },
        {
          "include": "#YieldOperator"
        },
        {
          "include": "#YieldIteratorOperator"
        },
        {
          "include": "#DeleteOperator"
        },
        {
          "include": "#InOperator"
        },
        {
          "include": "#OfOperator"
        },
        {
          "include": "#InstanceOfOperator"
        },
        {
          "include": "#NewOperator"
        },
        {
          "include": "#VoidOperator"
        },
        {
          "include": "#AsOperator"
        },
        {
          "include": "#SpreadOperator"
        },
        {
          "include": "#AssignArithmeticOperator"
        },
        {
          "include": "#AssignBitwiseOperator"
        },
        {
          "include": "#BitwiseShiftOperator"
        },
        {
          "include": "#CompareEqualOperator"
        },
        {
          "include": "#CompareRelativeOperator"
        },
        {
          "include": "#NegateOperator"
        },
        {
          "include": "#LogicalOperator"
        },
        {
          "include": "#BitwiseOperator"
        },
        {
          "include": "#AssignEqualOperator"
        },
        {
          "include": "#DecrementOperator"
        },
        {
          "include": "#IncrementOperator"
        },
        {
          "include": "#ArithmeticOperator"
        },
        {
          "include": "#AssignMultiplyOperator"
        },
        {
          "include": "#AssignDivideOperator"
        }
      ]
    },
    "AwaitOperator": {
      "tag": "controlKeyword",
      "name": "keyword.control.flow.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))(await)(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "YieldOperator": {
      "begin": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))(yield)(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))(?=\\s*\\/[*]([^*]|([*][^\\/]))*[*]\\/\\s*[*])",
      "beginCaptures": {
        "1": {
          "tag": "controlKeyword",
          "name": "keyword.control.flow.sd"
        }
      },
      "end": "([*])",
      "endCaptures": {
        "1": {
          "tag": "controlKeyword",
          "name": "keyword.generator.asterisk.sd"
        }
      }
    },
    "YieldIteratorOperator": {
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))(yield)(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))(?:\\s*([*]))?",
      "captures": {
        "1": {
          "tag": "controlKeyword",
          "name": "keyword.control.flow.sd"
        },
        "2": {
          "tag": "controlKeyword",
          "name": "keyword.generator.asterisk.sd"
        }
      }
    },
    "DeleteOperator": {
      "tag": "operatorKeyword",
      "name": "keyword.operator.expression.delete.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))delete(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "InOperator": {
      "tag": "operatorKeyword",
      "name": "keyword.operator.expression.in.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))in(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))(?!\\()"
    },
    "OfOperator": {
      "tag": "operatorKeyword",
      "name": "keyword.operator.expression.of.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))of(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))(?!\\()"
    },
    "InstanceOfOperator": {
      "tag": "operatorKeyword",
      "name": "keyword.operator.expression.instanceof.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))instanceof(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "NewOperator": {
      "tag": "operatorKeyword",
      "name": "keyword.operator.new.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))new(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "VoidOperator": {
      "tag": "operatorKeyword",
      "name": "keyword.operator.expression.void.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))void(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "AsOperator": {
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))(as)\\s+(const)(?=\\s*($|[;,:})\\]]))",
      "captures": {
        "1": {
          "tag": "controlKeyword",
          "name": "keyword.control.as.sd"
        },
        "2": {
          "tag": "controlKeyword",
          "name": "storage.modifier.sd"
        }
      }
    },
    "SpreadOperator": {
      "tag": "derefOperator",
      "name": "keyword.operator.spread.sd",
      "match": "([.][.][.])"
    },
    "AssignArithmeticOperator": {
      "tag": "updateOperator",
      "name": "keyword.operator.assignment.compound.sd",
      "match": "([*][=]|(?<!\\()[/][=]|[%][=]|[+][=]|[-][=])"
    },
    "AssignBitwiseOperator": {
      "tag": "updateOperator",
      "name": "keyword.operator.assignment.compound.bitwise.sd",
      "match": "([&][=]|[\\^][=]|[<][<][=]|[>][>][=]|[>][>][>][=]|[|][=])"
    },
    "BitwiseShiftOperator": {
      "tag": "updateOperator",
      "name": "keyword.operator.bitwise.shift.sd",
      "match": "([<][<]|[>][>][>]|[>][>])"
    },
    "CompareEqualOperator": {
      "tag": "compareOperator",
      "name": "keyword.operator.comparison.sd",
      "match": "([=][=][=]|[!][=][=]|[=][=]|[!][=])"
    },
    "CompareRelativeOperator": {
      "tag": "compareOperator",
      "name": "keyword.operator.relational.sd",
      "match": "([<][=]|[>][=]|[<][>]|[<]|[>])"
    },
    "NegateOperator": {
      "tag": "updateOperator",
      "match": "(?<=[_a-zA-Z0-9])([!])\\s*(?:([/][=])|(?:([/])(?![/*])))",
      "captures": {
        "1": {
          "tag": "logicOperator",
          "name": "keyword.operator.logical.sd"
        },
        "2": {
          "tag": "updateOperator",
          "name": "keyword.operator.assignment.compound.sd"
        },
        "3": {
          "tag": "arithmeticOperator",
          "name": "keyword.operator.arithmetic.sd"
        }
      }
    },
    "LogicalOperator": {
      "tag": "logicOperator",
      "name": "keyword.operator.logical.sd",
      "match": "([!]|[&][&]|[|][|]|[?][?])"
    },
    "BitwiseOperator": {
      "tag": "bitwiseOperator",
      "name": "keyword.operator.bitwise.sd",
      "match": "([&]|[~]|[\\^]|[|])"
    },
    "AssignEqualOperator": {
      "tag": "updateOperator",
      "name": "keyword.operator.assignment.sd",
      "match": "([=])"
    },
    "DecrementOperator": {
      "tag": "updateOperator",
      "name": "keyword.operator.decrement.sd",
      "match": "([-][-])"
    },
    "IncrementOperator": {
      "tag": "updateOperator",
      "name": "keyword.operator.increment.sd",
      "match": "([+][+])"
    },
    "ArithmeticOperator": {
      "tag": "arithmeticOperator",
      "name": "keyword.operator.arithmetic.sd",
      "match": "([%]|[*]|[/]|[-]|[+])"
    },
    "AssignMultiplyOperator": {
      "begin": "(?<=[_a-zA-Z0-9)\\]])\\s*(?=(\\/[*]([^*]|([*][^\\/]))*[*]\\/\\s*)+(?:(/=)|(?:(/)(?![/*]))))",
      "end": "(?:(/=)|(?:(/)(?![*]([^*]|([*][^\\/]))*[*][/])))",
      "endCaptures": {
        "1": {
          "tag": "updateOperator",
          "name": "keyword.operator.assignment.compound.sd"
        },
        "2": {
          "tag": "arithmeticOperator",
          "name": "keyword.operator.arithmetic.sd"
        }
      }
    },
    "AssignDivideOperator": {
      "match": "(?<=[_a-zA-Z0-9)\\]])([\\s]*)([/][=]|([/])(?![/*]))",
      "captures": {
        "2": {
          "tag": "arithmeticOperator",
          "name": "keyword.operator.arithmetic.sd"
        }
      }
    },
    "NumericLiteral": {
      "patterns": [
        {
          "include": "#HexNumber"
        },
        {
          "include": "#BinaryNumber"
        },
        {
          "include": "#OctalNumber"
        },
        {
          "include": "#DecimalNumber"
        }
      ]
    },
    "HexNumber": {
      "tag": "number",
      "name": "constant.numeric.hex.sd",
      "match": "(\\b(?<![$])0(?:x|X)[0-9a-fA-F][0-9a-fA-F_]*(?:n)?\\b(?![$]))",
      "captures": {
        "1": {
          "tag": "number",
          "name": "storage.type.numeric.bigint.sd"
        }
      }
    },
    "BinaryNumber": {
      "tag": "number",
      "name": "constant.numeric.binary.sd",
      "match": "(\\b(?<![$])0(?:b|B)[01][01_]*(?:n)?\\b(?![$]))",
      "captures": {
        "1": {
          "tag": "number",
          "name": "storage.type.numeric.bigint.sd"
        }
      }
    },
    "OctalNumber": {
      "tag": "number",
      "name": "constant.numeric.octal.sd",
      "match": "(\\b(?<![$])0(?:o|O)?[0-7][0-7_]*(?:n)?\\b(?![$]))",
      "captures": {
        "1": {
          "tag": "number",
          "name": "storage.type.numeric.bigint.sd"
        }
      }
    },
    "DecimalNumber": {
      "tag": "number",
      "name": "constant.numeric.decimal.sd",
      "match": "((?<![$])(?:(?:\\b[0-9][0-9_]*[.][0-9][0-9_]*[eE][+-]?[0-9][0-9_]*[n]?\\b)|(?:\\b[0-9][0-9_]*[.][eE][+-]?[0-9][0-9_]*[n]?\\b)|(?:\\B[.][0-9][0-9_]*[eE][+-]?[0-9][0-9_]*[n]?\\b)|(?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*[n]?\\b)|(?:\\b[0-9][0-9_]*[.][0-9][0-9_]*[n]?\\b)|(?:\\b[0-9][0-9_]*[.][n]?\\B)|(?:\\B[.][0-9][0-9_]*[n]?\\b)|(?:\\b[0-9][0-9_]*[n]?\\b(?![.])))(?![$]))"
    },
    "BooleanLiteral": {
      "patterns": [
        {
          "include": "#BooleanTrue"
        },
        {
          "include": "#BooleanFalse"
        }
      ]
    },
    "BooleanTrue": {
      "tag": "bool",
      "name": "constant.language.boolean.true.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))true(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "BooleanFalse": {
      "tag": "bool",
      "name": "constant.language.boolean.false.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))false(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "NullLiteral": {
      "tag": "null",
      "name": "constant.language.null.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))null(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "UndefinedLiteral": {
      "tag": "null",
      "name": "constant.language.undefined.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))undefined(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "NumericConstantLiteral": {
      "patterns": [
        {
          "include": "#NaN"
        },
        {
          "include": "#Infinity"
        }
      ]
    },
    "NaN": {
      "tag": "atom",
      "name": "constant.language.nan.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))NaN(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "Infinity": {
      "tag": "atom",
      "name": "constant.language.infinity.sd",
      "match": "(?<![_a-zA-Z0-9])(?:(?<=[.][.][.])|(?<![.]))Infinity(?![_a-zA-Z0-9])(?:(?=[.][.][.])|(?![.]))"
    },
    "ArrayLiteral": {
      "name": "meta.array.literal.sd",
      "brackets": true,
      "begin": "(\\[)",
      "beginCaptures": {
        "1": {
          "tag": "brace",
          "name": "meta.brace.square.open.sd"
        }
      },
      "patterns": [
        {
          "include": "#ArrayItem"
        },
        {
          "include": "#Newline"
        }
      ],
      "end": "(\\])",
      "endCaptures": {
        "1": {
          "tag": "brace",
          "name": "meta.brace.square.close.sd"
        }
      }
    },
    "ArrayItem": {
      "tag": "meta",
      "name": "meta.item.sd",
      "begin": "(?=.+$)",
      "patterns": [
        {
          "include": "#Expression"
        }
      ],
      "end": "(?=\\])|([,])",
      "endCaptures": {
        "1": {
          "tag": "punctuation",
          "name": "punctuation.separator.comma.sd"
        }
      }
    },
    "ObjectLiteral": {
      "name": "meta.object.literal.sd",
      "brackets": true,
      "begin": "(\\{)",
      "beginCaptures": {
        "1": {
          "tag": "brace",
          "name": "meta.brace.curly.open.sd"
        }
      },
      "patterns": [
        {
          "include": "#ObjectProperty"
        },
        {
          "include": "#Newline"
        }
      ],
      "end": "(\\})",
      "endCaptures": {
        "1": {
          "tag": "brace",
          "name": "meta.brace.curly.close.sd"
        }
      }
    },
    "ObjectProperty": {
      "tag": "meta",
      "name": "meta.item.sd",
      "begin": "(?=.+$)",
      "patterns": [
        {
          "include": "#Expression"
        }
      ],
      "end": "(?=\\})|([,])",
      "endCaptures": {
        "1": {
          "tag": "punctuation",
          "name": "punctuation.separator.comma.sd"
        }
      }
    },
    "PunctuationComma": {
      "tag": "punctuation",
      "name": "punctuation.separator.comma.sd",
      "match": ","
    },
    "PunctuationSemicolon": {
      "tag": "punctuation",
      "name": "punctuation.separator.semicolon.sd",
      "match": ";"
    },
    "ParenExpression": {
      "brackets": true,
      "begin": "([(])",
      "beginCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.open.sd"
        }
      },
      "patterns": [
        {
          "include": "#Expression"
        }
      ],
      "end": "([)])",
      "endCaptures": {
        "1": {
          "tag": "paren",
          "name": "meta.brace.round.close.sd"
        }
      }
    },
    "PropertyAccessor": {
      "match": "([.]|\\?[.](?!\\s*[0-9]))(\\s*)([#]?[a-zA-Z][_$0-9a-zA-Z]*)(?![_a-zA-Z0-9])(?![(])",
      "captures": {
        "1": {
          "tag": "content",
          "name": "punctuation.accessor.sd"
        },
        "3": {
          "tag": "propertyName",
          "name": "variable.other.property.sd"
        }
      }
    },
    "IllegalPropertyDeclaration": {
      "tag": "invalid",
      "name": "invalid.illegal.property-declaration.sd",
      "match": "([_a-zA-Z][_a-zA-Z0-9]*)([:])(.*?)($|(?=[;}]))"
    },
    "StructName": {
      "tag": "variableName",
      "name": "variable.other.constant.sd",
      "match": "([_a-zA-Z][_a-zA-Z0-9]*)(?![(])"
    },
    "VariableName": {
      "tag": "variableName",
      "name": "variable.other.constant.sd",
      "match": "([_a-zA-Z][_a-zA-Z0-9]*)(?![(])"
    },
    "PropertyName": {
      "tag": "propertyName",
      "name": "variable.other.property.sd",
      "match": "([_a-zA-Z][_a-zA-Z0-9]*)(?![(])"
    },
    "TypeIdentifier": {
      "tag": "typeName",
      "name": "support.type.sd",
      "match": "([_a-zA-Z][_a-zA-Z0-9]*)"
    },
    "ExpressionPunctuations": {
      "patterns": [
        {
          "include": "#PunctuationComma"
        },
        {
          "include": "#PunctuationAccessor"
        },
        {
          "include": "#PunctuationSemicolon"
        }
      ]
    },
    "PunctuationAccessor": {
      "match": "(?:([.])|(\\?[.](?!\\s*[0-9])))",
      "captures": {
        "1": {
          "tag": "punctuation",
          "name": "punctuation.accessor.sd"
        },
        "2": {
          "tag": "punctuation",
          "name": "punctuation.accessor.optional.sd"
        }
      }
    },
    "TemplateString": {
      "tag": "string",
      "name": "string.template.ts",
      "begin": "([`])",
      "beginCaptures": {
        "1": {
          "tag": "string",
          "name": "punctuation.definition.string.template.begin.sd"
        }
      },
      "patterns": [
        {
          "include": "#Color"
        },
        {
          "include": "#StringCharacterEscape"
        },
        {
          "include": "#TemplateStringSubstitution"
        },
        {
          "include": "#TemplateStringContent"
        }
      ],
      "end": "([`])",
      "endCaptures": {
        "1": {
          "tag": "string",
          "name": "punctuation.definition.string.template.end.sd"
        }
      }
    },
    "TemplateStringContent": {
      "tag": "string",
      "name": "string.quoted.template.content.sd",
      "match": "(.)"
    },
    "TemplateStringSubstitution": {
      "patterns": [
        {
          "include": "#TemplateStringExpressionSubstitution"
        },
        {
          "include": "#TemplateStringConditionalSubstitution"
        }
      ]
    },
    "TemplateStringExpressionSubstitution": {
      "brackets": true,
      "name": "meta.template.expression.sd",
      "contentName": "meta.embedded.line.sd",
      "begin": "([$][{])",
      "beginCaptures": {
        "1": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.begin.sd"
        }
      },
      "patterns": [
        {
          "include": "#Expression"
        }
      ],
      "end": "([}])",
      "endCaptures": {
        "1": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.end.sd"
        }
      }
    },
    "TemplateStringConditionalSubstitution": {
      "brackets": true,
      "begin": "([{])(?:([ \\t]*)([_a-zA-Z][_a-zA-Z0-9]*)([ \\t]*)((?=[}])|[:]))?(?:([ \\t]*)([_a-zA-Z][_a-zA-Z0-9]*)([ \\t]*)((?=[}])|[:]))?",
      "beginCaptures": {
        "1": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.begin.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.leading.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#VariableName"
            },
            {
              "include": "#Unknown"
            }
          ]
        },
        "4": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        },
        "5": {
          "tag": "separator",
          "name": "meta.template.expression.colon.sd"
        },
        "6": {
          "tag": "content",
          "name": "markup.raw.whitespace.leading.sd"
        },
        "7": {
          "patterns": [
            {
              "include": "#FunctionName"
            },
            {
              "include": "#Unknown"
            }
          ]
        },
        "8": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        },
        "9": {
          "tag": "separator",
          "name": "meta.template.expression.colon.sd"
        }
      },
      "patterns": [
        {
          "include": "#TemplateStringConditionalDelimiter"
        },
        {
          "include": "#TemplateStringContent"
        }
      ],
      "end": "([}])",
      "endCaptures": {
        "1": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.end.sd"
        }
      }
    },
    "TemplateStringConditionalDelimiter": {
      "tag": "separator",
      "name": "meta.template.expression.delimiter.sd",
      "match": "([|])"
    },
    "InlineTemplateStringSubstitution": {
      "patterns": [
        {
          "include": "#TemplateStringExpressionSubstitution"
        },
        {
          "include": "#InlineTemplateStringConditionalSubstitution"
        }
      ]
    },
    "InlineTemplateStringConditionalSubstitution": {
      "brackets": true,
      "begin": "([{])(?:([ \\t]*)([_a-zA-Z][_a-zA-Z0-9]*)([ \\t]*)((?=[}])|[:]))?(?:([ \\t]*)([_a-zA-Z][_a-zA-Z0-9]*)([ \\t]*)((?=[}])|[:]))?",
      "beginCaptures": {
        "1": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.begin.sd"
        },
        "2": {
          "tag": "content",
          "name": "markup.raw.whitespace.leading.sd"
        },
        "3": {
          "patterns": [
            {
              "include": "#VariableName"
            },
            {
              "include": "#Unknown"
            }
          ]
        },
        "4": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        },
        "5": {
          "tag": "separator",
          "name": "meta.template.expression.colon.sd"
        },
        "6": {
          "tag": "content",
          "name": "markup.raw.whitespace.leading.sd"
        },
        "7": {
          "patterns": [
            {
              "include": "#FunctionName"
            },
            {
              "include": "#Unknown"
            }
          ]
        },
        "8": {
          "tag": "content",
          "name": "markup.raw.whitespace.trailing.sd"
        },
        "9": {
          "tag": "separator",
          "name": "meta.template.expression.colon.sd"
        }
      },
      "patterns": [
        {
          "include": "#TemplateStringConditionalDelimiter"
        },
        {
          "include": "#InlineText"
        }
      ],
      "end": "([}])",
      "endCaptures": {
        "1": {
          "tag": "keyword",
          "name": "punctuation.definition.template-expression.end.sd"
        }
      }
    },
    "StringCharacterEscape": {
      "tag": "escape",
      "name": "constant.character.escape.ts",
      "match": "([\\\\])(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|u\\{[0-9A-Fa-f]+\\}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)"
    },
    "FunctionName": {
      "tag": "meta",
      "name": "meta.function-name.sd",
      "match": "([_a-zA-Z][_a-zA-Z0-9]*)",
      "captures": {
        "1": {
          "tag": "function(variableName)",
          "name": "entity.name.function.sd"
        }
      }
    },
    "Color": {
      "patterns": [
        {
          "include": "#HEXColor"
        },
        {
          "include": "#RGBColor"
        },
        {
          "include": "#HSLColor"
        }
      ]
    },
    "HEXColor": {
      "tag": "string",
      "name": "string.color.hex.sd",
      "match": "(#)((?:[0-9a-fA-F]{2}){2,4})",
      "color": true
    },
    "RGBColor": {
      "tag": "string",
      "name": "string.color.rgb.sd",
      "match": "(rgb)([(][\\d]+[\\s]+[\\d]+[\\s]+[\\d]+(?:[\\s]*[/][\\s]*[\\d.]+[%]?)?[)])",
      "color": true
    },
    "HSLColor": {
      "tag": "string",
      "name": "string.color.hsl.sd",
      "match": "(hsl)([(][\\d]+[\\s]+[\\d]+[%]?[\\s]+[\\d]+[%]?(?:[\\s]*[/][\\s]*[\\d.]+[%]?)?[)])",
      "color": true
    }
  }
}